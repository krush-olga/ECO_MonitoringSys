(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,n){e.exports=n.p+"static/media/3.d5d8d4cc.jpg"},157:function(e,t,n){},268:function(e,t,n){},324:function(e,t,n){},336:function(e,t,n){},401:function(e,t,n){e.exports=n.p+"static/media/1.d3521650.jpg"},402:function(e,t,n){e.exports=n.p+"static/media/2.8cf8d7c3.jpg"},405:function(e){e.exports=JSON.parse('[{"table":"elements","names":[{"initName":"code","newName":"\u041a\u043e\u0434 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0443"},{"initName":"name","newName":"\u041f\u043e\u0432\u043d\u0430 \u043d\u0430\u0437\u0432\u0430 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0443"},{"initName":"short_name","newName":"\u0421\u043a\u043e\u0440\u043e\u0447\u0435\u043d\u0430 \u043d\u0430\u0437\u0432\u0430 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0443"},{"initName":"measure","newName":"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"}]},{"table":"gdk","names":[{"initName":"CodeName","newName":"\u041a\u043e\u0434 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0443"},{"initName":"code","newName":"\u041d\u0430\u0437\u0432\u0430 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0443"},{"initName":"mpc_m_ot","newName":"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0430 \u043d\u043e\u0440\u043c\u0430"},{"initName":"mpc_avrg_d","newName":"\u0421\u0435\u0440\u0435\u0434\u043d\u044f \u0434\u043d\u0435\u0432\u043d\u0430 \u043d\u043e\u0440\u043c\u0430"},{"initName":"danger_class","newName":"\u0420\u0456\u0432\u0435\u043d\u044c \u043d\u0435\u0431\u0435\u0437\u043f\u0435\u043a\u0438"},{"initName":"environment","newName":"\u041a\u043e\u0434 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0430"},{"initName":"EnvironmentName","newName":"\u041d\u0430\u0437\u0432\u0430 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0430"}]},{"table":"environment","names":[{"initName":"id","newName":"ID \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0430"},{"initName":"name","newName":"\u041f\u043e\u0432\u043d\u0430 \u043d\u0430\u0437\u0432\u0430 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0430"},{"initName":"AttachEnv","newName":"\u041f\u0440\u0438\u0432\'\u044f\u0437\u0430\u043d\u0435 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"}]},{"table":"type_of_object","names":[{"initName":"Id","newName":"\u0406D \u043e\u0431\'\u0454\u043a\u0442\u0443"},{"initName":"Name","newName":"\u041d\u0430\u0437\u0432\u0430 \u043e\u0431\'\u0454\u043a\u0442\u0443"},{"initName":"Image_Name","newName":"\u041d\u0430\u0437\u0432\u0430 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"}]}]')},431:function(e,t,n){e.exports=n(814)},439:function(e,t,n){},460:function(e,t,n){},476:function(e,t,n){},644:function(e,t,n){},655:function(e,t,n){},656:function(e,t,n){},681:function(e,t,n){},686:function(e,t){},688:function(e,t){},795:function(e,t,n){},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){},800:function(e,t,n){},801:function(e,t,n){},812:function(e,t,n){},813:function(e,t,n){},814:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(24),c=n.n(l),o=(n(436),n(437),n(3)),i=n(244),s=n(84),u=(n(438),n(439),n(39)),m=n(837),d=n(820),f=n(376),E=n(65),b=[49.0139,31.2858],h={elements:"elements",gdk:"gdk",environment:"environment",type_of_object:"type_of_object",tax_values:"tax_values"},p={search:"search",add:"add",edit:"edit",delete:"delete"},v=function(e,t){return{points:{1:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0430\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u0438",2:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u043f\u0438\u0442\u043d\u043e\u0457 \u0432\u043e\u0434\u0438",3:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0457 \u0432\u043e\u0434\u0438",4:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0433\u0440\u0443\u043d\u0442\u0456\u0432",5:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0433\u043e\u0441\u043f\u043e\u0434\u0430\u0440\u0441\u044c\u043a\u0438\u0445 \u0433\u0440\u0443\u043d\u0442\u0456\u0432",6:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u0435\u0432\u0438\u0445 \u0432\u043e\u0434",8:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0441\u0442\u0440\u0430\u0442\u043e\u0441\u0444\u0435\u0440\u0438"},region:{1:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0438\u0439 \u0456\u043d\u0434\u0435\u043a\u0441 \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0430\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u0438",2:"\u0406\u043d\u0434\u0435\u043a\u0441 \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043e\u0441\u0442\u0456 \u043f\u0438\u0442\u043d\u043e\u0457 \u0432\u043e\u0434\u0438",3:"\u0406\u043d\u0434\u0435\u043a\u0441 \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043e\u0441\u0442\u0456 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0457 \u0432\u043e\u0434\u0438",4:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0433\u0440\u0443\u043d\u0442\u0456\u0432",5:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0433\u043e\u0441\u043f\u043e\u0434\u0430\u0440\u0441\u044c\u043a\u0438\u0445 \u0433\u0440\u0443\u043d\u0442\u0456\u0432",6:"\u0406\u043d\u0434\u0435\u043a\u0441 \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043e\u0441\u0442\u0456 \u043f\u043e\u0432\u0435\u0440\u0445\u043d\u0435\u0432\u0438\u0445 \u0432\u043e\u0434",8:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f \u0441\u0442\u0440\u0430\u0442\u043e\u0441\u0444\u0435\u0440\u0438"}}[e][t]},g=[{lvl:1,min:-1/0,max:1.5,color:"#51e459"},{lvl:2,min:1.5,max:2,color:"darkgreen"},{lvl:3,min:2,max:2.5,color:"#e4ed37"},{lvl:4,min:2.5,max:3,color:"#FFAA00"},{lvl:5,min:3,max:1/0,color:"#DB4437"}],O=[{lvl:1,min:-1/0,max:2.5,color:"#51e459"},{lvl:2,min:2.5,max:7.5,color:"darkgreen"},{lvl:3,min:7.5,max:12.5,color:"#e4ed37"},{lvl:4,min:12.5,max:22.5,color:"#FFAA00"},{lvl:5,min:22.5,max:52.5,color:"#E88617"},{lvl:6,min:52.5,max:1/0,color:"#DB4437"}],j=[{lvl:1,min:-1/0,max:.2,color:"#51e459"},{lvl:2,min:.2,max:1,color:"darkgreen"},{lvl:3,min:1,max:2,color:"#e4ed37"},{lvl:4,min:2,max:4,color:"#858a21"},{lvl:5,min:4,max:6,color:"#FFAA00"},{lvl:6,min:6,max:10,color:"#E88617"},{lvl:7,min:10,max:1/0,color:"#DB4437"}],y=[{lvl:1,min:1,max:1.5,color:"rgba(0, 200, 0, 1)"},{lvl:2,min:1.5,max:2,color:"rgba(0, 110, 0, 1)"},{lvl:3,min:2,max:2.5,color:"rgba(255, 255, 102,1)"},{lvl:4,min:2.5,max:3,color:"rgba(179, 179, 0,1)"},{lvl:5,min:3,max:1/0,color:"rgba(242, 54, 7, 1)"}],C=function(e){return{1:y,2:y,3:y,4:y,5:y,6:y,8:y}[e]},x=n(817),w=n(818),k=n(374),S=n(834),N=n(19),_=n.n(N),I=n(38),D=n(95),M=n.n(D);function P(e,t){return A.apply(this,arguments)}function A(){return(A=Object(I.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.a.post(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return(T=Object(I.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.a.get(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return z.apply(this,arguments)}function z(){return(z=Object(I.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.a.put(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return B.apply(this,arguments)}function B(){return(B=Object(I.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.a.delete(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V,W=function(e){var t=r.a.useState(""),n=Object(o.a)(t,2),a=n[0],l=n[1],c=r.a.useState(""),i=Object(o.a)(c,2),s=i[0],u=i[1];return r.a.createElement(x.a,null,r.a.createElement(w.a,{className:"justify-content-center"},r.a.createElement(k.a,{xs:6},r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{controlId:"formUsername"},r.a.createElement(S.a.Label,null,"\u041b\u043e\u0433\u0456\u043d"),r.a.createElement(S.a.Control,{type:"input",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d",value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement(S.a.Group,{controlId:"formBasicPassword"},r.a.createElement(S.a.Label,null,"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(S.a.Control,{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",value:s,onChange:function(e){return u(e.target.value)}})),r.a.createElement(f.a,{variant:"primary",onClick:function(){P("/login",{login:a,password:s}).then((function(t){var n=t.data;n?(e.onHide(),e.setUser(n),sessionStorage.setItem("user",JSON.stringify(n))):alert("Incorrect login/password")}))}},"\u0423\u0432\u0456\u0439\u0442\u0438")))))},H=n(835),G=(n(460),function(e){return r.a.createElement(H.a,Object.assign({},e,{size:e.size||"lg",style:{zIndex:2e3},dialogClassName:"modalAdaptive","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(H.a.Header,{closeButton:!0},r.a.createElement(H.a.Title,{id:"contained-modal-title-vcenter"},e.header)),r.a.createElement(H.a.Body,null,e.children),r.a.createElement(H.a.Footer,null,r.a.createElement(f.a,{onClick:e.onHide},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438")))}),U=function(e){var t=r.a.useState(!1),n=Object(o.a)(t,2),a=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"primary",onClick:function(){return l(!0)}},"\u0423\u0432\u0456\u0439\u0442\u0438"),r.a.createElement(G,{show:a,onHide:function(){return l(!1)},header:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0434\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0430\u043a\u0430\u0443\u043d\u0442\u0443"},r.a.createElement(W,{onHide:function(){return l(!1)},setUser:e.setUser})))},q={selected:null,environments:[]},K=Object(a.createContext)(q),Y=n(378),J=n(819),Z=(n(268),function(e){Object(Y.a)(e);var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=document.createElement("script"),n=document.createElement("script");e.src="https://rewidget.jrc.ec.europa.eu/v3/loader.ashx?theme=eu-2015&lang=en",n.innerHTML="__eurdep_maps('widget', {center: [49.664447, 31.034037], zoom: 6});",t.current.append(e),e.onload=function(){t.current.append(n)}}),[]),r.a.createElement("div",{ref:t},r.a.createElement("div",{id:"widget",style:{height:"500px"}},r.a.createElement(J.a,{className:"loading-spiner",animation:"border",variant:"primary"})))}),X=function(e){var t=e.hideRadio,n=e.showRadioModal,a=e.size;return r.a.createElement(H.a,{show:n,onHide:t,size:a||"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(H.a.Header,{closeButton:!0},r.a.createElement(H.a.Title,{id:"contained-modal-title-vcenter"},"\u0420\u0430\u0434\u0456\u0430\u0446\u0456\u0439\u043d\u0438\u0439 \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433")),r.a.createElement(H.a.Body,null,r.a.createElement(Z,null)),r.a.createElement(H.a.Footer,null,r.a.createElement(f.a,{onClick:t},"\u0417\u0430\u043a\u0440\u0438\u0442\u0438")))},Q=(n(476),V={},Object(u.a)(V,h.elements,"\u0415\u043b\u0435\u043c\u0435\u043d\u0442\u0438"),Object(u.a)(V,h.gdk,"\u0413\u0414\u041a"),Object(u.a)(V,h.environment,"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0430"),Object(u.a)(V,h.type_of_object,"\u0422\u0438\u043f\u0438 \u043e\u0431`\u0454\u043a\u0442\u0456\u0432"),V),$=function(e){var t=e.user,n=e.setUser,l=e.dictionary,c=e.setDictionary,i=Object(s.f)(),u=Object(s.g)(),b=Object(a.useContext)(K),p=b.environmentsInfo,v=b.setEnvironmentsInfo,g=Object(a.useState)(!1),O=Object(o.a)(g,2),j=O[0],y=O[1],C=Object(a.useState)(!1),x=Object(o.a)(C,2),w=x[0],k=x[1],S=function(e){var t=p.selected;return!!t&&e===t.id};return r.a.createElement(m.a,{bg:"light",className:"z-index",expand:"lg"},r.a.createElement(m.a.Toggle,{"aria-controls":"menu-nav"}),r.a.createElement(m.a.Collapse,{id:"menu-nav",className:""},r.a.createElement(E.a,{className:"d-flex align-items-center container"},r.a.createElement(E.a.Item,null,r.a.createElement(E.a.Link,{style:ee,onClick:function(){return v({selected:null,environments:p.environments}),y(!1),c(null),void i.push("/")}},"\u0414\u043e\u043c\u0430\u0448\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430")),r.a.createElement(E.a.Item,null,r.a.createElement(d.a,{title:r.a.createElement("span",{className:"text-primary"},"\u041a\u0430\u0440\u0442\u0430 \u0432\u0438\u043a\u0438\u0434\u0456\u0432")},p.environments.map((function(e){var t=e.id,n=e.name;return r.a.createElement(d.a.Item,{onClick:function(){return function(e,t,n){var a=p.environments.find((function(t){return+t.id===+e}));v({selected:a,environments:p.environments}),c(null),y(!1),i.push("/earth")}(t)},key:t,active:S(t)},n)})),r.a.createElement(d.a.Item,{onClick:function(){return v({selected:null,environments:p.environments}),c(null),y(!0),void i.push("/advancedmap")},active:j},"\u0421\u043f\u0435\u0446 \u043c\u0430\u043f\u0430"))),t&&0===t.id_of_expert&&r.a.createElement(E.a.Item,null,r.a.createElement(d.a,{title:r.a.createElement("span",{className:"text-primary"},"\u0414\u043e\u0432\u0456\u0434\u043d\u0438\u043a\u0438")},Object.values(h).map((function(e,t){return r.a.createElement(d.a.Item,{onClick:function(){return function(e){c(e),v({selected:null,environments:p.environments}),y(!1),i.push("/dictionary")}(e)},key:t,active:l===e},Q[e])})))),("/earth"===u.pathname||"/advancedmap"===u.pathname)&&r.a.createElement(E.a.Item,null,r.a.createElement(E.a.Link,{style:ee,onClick:function(){return k(!0)}},"\u0420\u0430\u0434\u0456\u0430\u0446\u0456\u0439\u043d\u0438\u0439 \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433"),r.a.createElement(X,{showRadioModal:w,hideRadio:function(){return k(!1)}})),r.a.createElement(E.a.Item,{className:"menu_togler"},t?r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement("h5",{className:"mr-2 mb-0"},"\u0412\u0456\u0442\u0430\u0454\u043c\u043e, ",t.FIO," (",t.expert_name,")"),r.a.createElement(f.a,{variant:"outline-secondary",size:"md",onClick:function(){n(null),sessionStorage.removeItem("user")}},"\u0412\u0438\u0439\u0442\u0438")):r.a.createElement(U,{setUser:n})))))},ee={color:"#0275d8"},te=n(23),ne=n(840),ae=n(841),re=n(26),le=n(183),ce=n(821),oe=n(822),ie=n(64),se=n(30),ue=(n(644),["#0088FE","#00C49F","#FFBB28","#FF8042","#A8E4A0","#30D5C8","#3E5F8A","#00BFFF","#BDDA57"]),me=function(e){for(var t=e.title,n=e.data,a=[],l=0,c=Object(te.a)(new Set(n.map((function(e){return e.DateEm}))));l<c.length;l++){var o=c[l];a.push({name:o})}for(var i=function(){var e,t=u[s],a=Object(re.a)(n.filter((function(e){return e.DateEm==t.name})));try{for(a.s();!(e=a.n()).done;){var r=e.value;t[r.Name_Object]=r.ValueAvg}}catch(l){a.e(l)}finally{a.f()}},s=0,u=a;s<u.length;s++)i();return r.a.createElement("div",{className:"compare-chart"},r.a.createElement("h3",null,t),r.a.createElement(se.h,{width:"100%",height:250},r.a.createElement(se.e,{width:500,height:250,data:a,margin:{top:5,right:30,left:0,bottom:5}},r.a.createElement(se.a,{strokeDasharray:"3 3"}),r.a.createElement(se.j,{dataKey:"name"}),r.a.createElement(se.k,null),r.a.createElement(se.i,null),Object(te.a)(new Set(n.map((function(e){return e.Name_Object})))).map((function(e,t){return r.a.createElement(se.d,{key:e,type:"monotone",dataKey:e,stroke:ue[t%ue.length]})})))))},de=n(96),fe=n(37),Ee=n(836),be=(n(651),n(652),function(e,t){return e.filter((function(e,n,a){return a.map((function(e){return e[t]})).indexOf(e[t])===n}))}),he=function(e){var t=[];return e.forEach((function(e){t.includes(e.element)||t.push(e.element)})),t.reduce((function(t,n){var a=[];return e.forEach((function(e){n===e.element&&a.push({name:"".concat(e.date.day,"-").concat(e.date.month,"-").concat(e.date.year),"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f":e.averageCalculations.average,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f":e.maximumCalculations.max})})),t[n]=a,t}),{})},pe=function(e){return["code","id","Id","id_of_element"].find((function(t){return Object.keys(e).some((function(e){return e===t}))}))},ve=function(e){return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear()," ").concat(e.getHours(),":").concat(e.getMinutes())},ge=function(e,t){var n="";return e.forEach((function(a,r){n+=r==e.length-1?"".concat(t,"[]=").concat(a.value):"".concat(t,"[]=").concat(a.value,"&")})),n},Oe=function(e,t){var n="";return e.forEach((function(a,r){n+=r==e.length-1?"".concat(t,"[]=").concat(a):"".concat(t,"[]=").concat(a,"&")})),n},je=function(e){var t=[],n=[];return e.forEach((function(a,r){if(!n.includes(r)){t.push(a);for(var l=r+1;l<e.length;l++){var c=e[l],o=Object.keys(a),i=Object.keys(c);if(o.length===i.length)if(o.sort().join("").toLowerCase()===i.sort().join("").toLowerCase()){for(var s=!0,u=0;u<o.length;u++){var m=o[u];if(a[m]!==c[m]){s=!1;break}}s&&n.push(l)}}}})),t},ye=(n(655),function(e){var t=e.points,n=e.polygons,l=e.chosenEnvironments,c=Object(le.a)(e,["points","polygons","chosenEnvironments"]),i=Object(a.useContext)(K).environmentsInfo,s=Object(a.useState)([]),u=Object(o.a)(s,2),m=u[0],d=u[1],f=r.a.useState(window.innerWidth),E=Object(o.a)(f,2),b=E[0],h=E[1],p=function(){h(window.innerWidth)};"function"===window.onresize?window.removeEventListener(p):window.addEventListener("resize",p);var v=Object(a.useState)([{name:null,measure:null}]),g=Object(o.a)(v,2),O=g[0],j=g[1],y=Object(a.useState)({base:!0,set:"",measue:null}),C=Object(o.a)(y,2),x=C[0],w=C[1],k=Object(a.useState)(!1),S=Object(o.a)(k,2),N=S[0],_=S[1],I=r.a.useState([{startDate:new Date,endDate:Object(fe.a)(new Date,7),key:"selection"}]),D=Object(o.a)(I,2),M=D[0],P=D[1];Object(a.useEffect)((function(){if(c.show){var e,a=Object(o.a)(M,1)[0],r="",s=i.selected?i.selected.id:null,u=l?Oe(l,"idEnvironment"):null,m=Object(re.a)(t);try{for(m.s();!(e=m.n()).done;){var f=e.value;r+="&PointsId[]=".concat(f)}}catch(p){m.e(p)}finally{m.f()}var E,b=Object(re.a)(n);try{for(b.s();!(E=b.n()).done;){var h=E.value;r+="&PolygonsId[]=".concat(h)}}catch(p){b.e(p)}finally{b.f()}F("".concat("/compareEmissions","?").concat(u||"idEnvironment=".concat(s)).concat(r,"&startDate=").concat(a.startDate.toISOString(),"&endDate=").concat(a.endDate.toISOString())).then((function(e){var t=e.data;d(t),j(be(t.map((function(e){return{name:e.ElementName,measure:e.Measure}})),"name"))}))}else d([])}),[c.show,M]),Object(a.useEffect)((function(){x.base?m.forEach((function(e){return e.visible=!0})):m.forEach((function(e){e.ElementName==x.set?e.visible=!0:e.visible=!1})),_(!0)}),[x]),Object(a.useEffect)((function(){_(!1)}),[N]);var A=function(e){e.TableWillUpdate;return r.a.createElement(ce.a,{className:"CompareTable",responsive:!0,size:"lg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:" "}),m.map((function(e,t){if(e.visible)return r.a.createElement("th",{key:"thNameObj="+t,title:e.Name_Object},e.Name_Object)})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),m.map((function(e,t){if(e.visible)return r.a.createElement("td",{key:"thValueMax="+t,title:e.ValueMax},e.ValueMax)}))),r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u0435\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u0421\u0435\u0440\u0435\u0434\u0435\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),m.map((function(e,t){if(e.visible)return r.a.createElement("td",{key:"thValueAvg="+t,title:e.ValueAvg},e.ValueAvg)}))),r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f"},"\u0414\u0430\u0442\u0430 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f"),m.map((function(e,t){if(e.visible)return r.a.createElement("td",{key:"thDate="+t,title:e.DateEm},e.DateEm)}))),r.a.createElement("tr",null,r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"),m.map((function(e,t){if(e.visible)return r.a.createElement("td",{key:"thMeasue="+t,title:e.Measure},e.Measure)}))),r.a.createElement("tr",null,r.a.createElement("th",{title:"\u041d\u0430\u0437\u0432\u0430 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0443"},"\u041d\u0430\u0437\u0432\u0430 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0443"),m.map((function(e,t){if(e.visible)return r.a.createElement("td",{key:"thElementName="+t,title:e.ElementName},e.ElementName)})))))};return r.a.createElement(G,{size:"xl",show:c.show,onHide:function(){c.onHide(),w({base:!0,set:"",measue:null})},header:"\u041f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043d\u044f \u043e\u0431\u0440\u0430\u043d\u0438\u0445 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432."},r.a.createElement("h4",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438 \u0434\u043b\u044f \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0438\u043a\u0438\u0434\u0456\u0432 \u0437\u0430 \u043f\u0435\u0432\u043d\u0438\u0439 \u043f\u0435\u0440\u0456\u043e\u0434"),b>1200?r.a.createElement(de.DateRangePicker,{locale:Ee.a,onChange:function(e){return P([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:M,direction:"horizontal"}):r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(de.DateRange,{locale:Ee.a,editableDateInputs:!0,onChange:function(e){return P([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,ranges:M,className:"adaptiveDateRange"})),m.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{className:"DropDownElementButton",title:""==x.set?"\u0415\u043b\u0435\u043c\u0435\u043d\u0442 \u0437\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f":x.set,id:"bg-vertical-dropdown-1"},r.a.createElement(ie.a.Item,{onClick:function(){return w({base:!0,set:"\u0423\u0441\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u0456",measue:null})}}," ","\u0423\u0441\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u0456"," "),O.map((function(e){return r.a.createElement(ie.a.Item,{onClick:function(){return w({base:!1,set:e.name,measue:e.measure})}}," ",e.name," ")}))),x.measue&&r.a.createElement("h4",null,"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443: ",x.measue),r.a.createElement(A,{TableWillUpdate:N}),!x.base&&r.a.createElement(me,{title:"\u0413\u0440\u0430\u0444\u0456\u043a \u0432\u0438\u043a\u0438\u0434\u0456\u0432",data:m.filter((function(e){return 1==e.visible}))})))}),Ce=(n(656),function(e){var t=e.id,n=e.param,l=e.setEmissionCalculations,c=e.EnvironmentAttachment,i=Object(a.useContext)(K).environmentsInfo,s=r.a.useState(window.innerWidth),u=Object(o.a)(s,2),m=u[0],d=u[1],f=function(){d(window.innerWidth)};"function"===window.onresize?window.removeEventListener(f):window.addEventListener("resize",f);var E=r.a.useState([{startDate:new Date,endDate:Object(fe.a)(new Date,7),key:"selection"}]),b=Object(o.a)(E,2),h=b[0],p=b[1];return r.a.useEffect((function(){var e=Object(o.a)(h,1)[0],a=i.selected?i.selected.id:null,r=Oe(c,"envAttach");F("".concat("/emissionscalculations","?idEnvironment=").concat(a,"&").concat(n,"=").concat(t,"&startDate=").concat(e.startDate.toISOString(),"&endDate=").concat(e.endDate.toISOString()).concat(c&&c.length>0?"&"+r:"")).then((function(e){var t=e.data;l(t)}))}),[t,h]),r.a.createElement(r.a.Fragment,null,m>1200?r.a.createElement(de.DateRangePicker,{locale:Ee.a,onChange:function(e){return p([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:h,direction:"horizontal"}):r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(de.DateRange,{editableDateInputs:!0,onChange:function(e){return p([e.selection])},moveRangeOnFirstSelection:!1,ranges:h,className:"adaptiveDateRange"})))}),xe=function(e){var t=e.dateState,n=e.SetDateState,a=e.initilDate,l=e.enabled;return r.a.useEffect((function(){l&&(t[0].endDate>new Date&&t[0].startDate>new Date?n(a):t[0].endDate>new Date&&(t[0].endDate=new Date,n(t)))}),[t]),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(de.DateRange,{editableDateInputs:!0,onChange:function(e){return n([e.selection])},moveRangeOnFirstSelection:!1,ranges:t,className:"adaptiveDateRange"}))},we=n(825),ke=n(826),Se=n(839),Ne=n(827),_e=n(393),Ie=n(69),De=n(63),Me=n(823),Pe=n(824),Ae=n(20),Fe=["#0088FE","#00C49F","#FFBB28","#FF8042","#A8E4A0","#30D5C8","#3E5F8A","#00BFFF","#BDDA57"],Te=function(e){var t=e.title,n=e.data,a=n.map((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{value:+e.value.toFixed(4)})}));return r.a.createElement("div",{style:{padding:"2px"}},r.a.createElement("h5",{className:"text-center"},t),r.a.createElement(se.g,{width:350,height:350},r.a.createElement(se.f,{data:a,cx:"50%",cy:200,label:!0,labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",isAnimationActive:!1},n.map((function(e,t){return r.a.createElement(se.b,{key:"cell-".concat(t),fill:Fe[t%Fe.length]})}))),r.a.createElement(se.c,{verticalAlign:"top",height:20,iconType:"circle",margin:{top:0,left:0,right:0,bottom:0}})))},Re=function(e){var t=e.emissions,n=r.a.useState(""),a=Object(o.a)(n,2),l=a[0],c=a[1];return t?r.a.createElement("div",null,Object.keys(t).length>0&&r.a.createElement(ie.a,{className:"mr-2 mb-2"},r.a.createElement(ie.a.Toggle,{size:"md"},l||"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement(ie.a.Menu,null,t&&Object.keys(t).map((function(e){return r.a.createElement(ie.a.Item,{key:e,active:e===l,onClick:function(){c(e)}},e)})))),Object.keys(t).length>0&&l&&r.a.createElement(se.h,{width:"100%",height:200},r.a.createElement(se.e,{width:400,height:200,data:t[l],margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(se.a,{strokeDasharray:"3 3"}),r.a.createElement(se.j,{dataKey:"name"}),r.a.createElement(se.k,null),r.a.createElement(se.i,null),r.a.createElement(se.d,{connectNulls:!0,type:"monotone",dataKey:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f",stroke:"#8884d8"}),r.a.createElement(se.d,{connectNulls:!0,type:"monotone",dataKey:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f",stroke:"#82ca9d"})))):null},ze=(n(324),function(e){var t=e.id,n=r.a.useState(!1),a=Object(o.a)(n,2),l=a[0],c=a[1],i=r.a.useState([]),s=Object(o.a)(i,2),u=s[0],m=s[1];return r.a.useEffect((function(){l||F("".concat("/getcalculationsinfo","/").concat(t)).then((function(e){var t=e.data;m(t),c(!0)})).catch((function(e){console.log("Error loading data")}))})),r.a.createElement(r.a.Fragment,null,u.length>0?r.a.createElement("div",{className:"emission-table-wraper"},r.a.createElement(ce.a,{className:"emissions-inner-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0421\u0435\u0440\u0456\u044f"},"\u0421\u0435\u0440\u0456\u044f"),r.a.createElement("th",{title:"\u0414\u0430\u0442\u0430"},"\u0414\u0430\u0442\u0430"),r.a.createElement("th",{title:"\u041d\u0430\u0437\u0432\u0430 \u0444\u043e\u0440\u043c\u0443\u043b\u0438"},"\u041d\u0430\u0437\u0432\u0430 \u0444\u043e\u0440\u043c\u0443\u043b\u0438"),r.a.createElement("th",{title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"))),r.a.createElement("tbody",null,u.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{title:e.name},e.name),r.a.createElement("td",{title:ve(new Date(e.date))},ve(new Date(e.date))),r.a.createElement("td",{title:e.formula},e.formula),r.a.createElement("td",{title:e.result},e.result))}))))):r.a.createElement("h4",{style:{textAlign:"center",marginTop:10,marginBottom:10}},"\u0414\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u043e\u0431'\u0454\u043a\u0442\u0443 \u043d\u0435 \u0440\u043e\u0437\u0440\u0430\u0443\u043d\u043a\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e!"))}),Le=function(e){var t=e.id,n=e.isPoint,l=e.onHide,c=e.show,i=(e.emissions,e.EnvironmentAttachment),s=e.isAdvanced,u=Object(a.useContext)(K).environmentsInfo,m=n?"idPoi":"idPolygon",d=r.a.useState([]),f=Object(o.a)(d,2),E=f[0],b=f[1];r.a.useEffect((function(){h(t)}),[t]);var h=function(e){var t=u.selected?u.selected.id:null,n=Oe(i,"envAttach");F("".concat("/emissionscalculations","?idEnvironment=").concat(t,"&").concat(m,"=").concat(e).concat(i&&i.length>0?"&"+n:"")).then((function(e){var t=e.data;b(t)}))},p=E&&E.length>0?function(e){var t=[];return e.forEach((function(e){t.includes(e.element)||t.push(e.element)})),t.map((function(t){var n={name:t,quantity:0,total:0};return e.forEach((function(e){n.name===e.element&&(n.total+=e.averageCalculations.average,n.quantity++)})),{name:n.name,value:n.total/n.quantity}}))}(E):[],v=E&&E.length>0?function(e){var t=[];return e.forEach((function(e){t.includes(e.element)||t.push(e.element)})),t.map((function(t){var n={name:t,value:0};return e.forEach((function(e){n.name===e.element&&e.maximumCalculations.max>n.value&&(n.value=e.maximumCalculations.max)})),n}))}(E):[];return r.a.createElement(G,{size:"xl",show:c,onHide:l,header:"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0432\u0438\u043a\u0438\u0434\u0438"},r.a.createElement(Me.a,null,r.a.createElement(Pe.a,{eventKey:"emissions",title:"\u0417\u0430\u0431\u0440\u0443\u0434\u043d\u0435\u043d\u043d\u044f"},r.a.createElement("h4",{className:"mb-3"},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0438 \u0434\u043b\u044f \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0438\u043a\u0438\u0434\u0456\u0432 \u0437\u0430 \u043f\u0435\u0432\u043d\u0438\u0439 \u043f\u0435\u0440\u0456\u043e\u0434"),r.a.createElement(Ce,{id:t,param:m,setEmissionCalculations:b,EnvironmentAttachment:i}),E.length>0?r.a.createElement("div",{className:"emission-table-wraper"},r.a.createElement(ce.a,{className:"emissions-inner-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,s&&n&&r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"},"\u0421\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435"),r.a.createElement("th",{title:"\u0415\u043b\u0435\u043c\u0435\u043d\u0442"},"\u0415\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("th",{title:"\u0414\u0430\u0442\u0430"},"\u0414\u0430\u0442\u0430"),r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f average \u0432\u0438\u043a\u0438\u0434\u0456\u0432"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f average \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement("th",{title:"\u0413\u0414\u041a average"},"\u0413\u0414\u041a average"),r.a.createElement("th",{title:"\u041f\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043d\u043d\u044f \u0413\u0414\u041a average"},"\u041f\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043d\u043d\u044f \u0413\u0414\u041a average"),r.a.createElement("th",{title:"Max \u0432\u0438\u043a\u0438\u0434\u0456\u0432"},"Max \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement("th",{title:"\u0413\u0414\u041a max"},"\u0413\u0414\u041a max"),r.a.createElement("th",{title:"\u041f\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043d\u043d\u044f \u0413\u0414\u041a max"},"\u041f\u0435\u0440\u0435\u0432\u0438\u0449\u0435\u043d\u043d\u044f \u0413\u0414\u041a max"))),r.a.createElement("tbody",null,E.map((function(e,t){var a=e.averageCalculations.gdkAverage?(e.averageCalculations.gdkAverage-e.averageCalculations.average).toFixed(5)>=0?"\u0412 \u043c\u0435\u0436\u0430\u0445 \u043d\u043e\u0440\u043c\u0438":-(e.averageCalculations.gdkAverage-e.averageCalculations.average).toFixed(5):"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445",l=e.maximumCalculations.gdkMax?(e.maximumCalculations.gdkMax-e.maximumCalculations.max).toFixed(5)>=0?"\u0412 \u043c\u0435\u0436\u0430\u0445 \u043d\u043e\u0440\u043c\u0438":-(e.averageCalculations.gdkMax-e.averageCalculations.max).toFixed(5):"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445";return r.a.createElement("tr",{key:t},s&&n&&r.a.createElement("td",{title:e.envName},e.envName),r.a.createElement("td",{title:e.element},e.element),r.a.createElement("td",{title:e.date},"".concat(e.date.day,"/").concat(e.date.month,"/").concat(e.date.year)),r.a.createElement("td",{title:e.measure},e.measure),r.a.createElement("td",{title:e.averageCalculations.average},e.averageCalculations.average.toFixed(5)),r.a.createElement("td",{title:e.averageCalculations.gdkAverage||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"},e.averageCalculations.gdkAverage||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"),r.a.createElement("td",{title:a||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"},a),r.a.createElement("td",{title:e.maximumCalculations.max},e.maximumCalculations.max.toFixed(5)),r.a.createElement("td",{title:e.maximumCalculations.gdkMax||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"},e.maximumCalculations.gdkMax||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"),r.a.createElement("td",{title:l||"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"},l))}))))):r.a.createElement("h6",{className:"mt-3 mb-3"},"\u041d\u0435\u043c\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043f\u0440\u043e \u0432\u0438\u043a\u0438\u0434\u0438 \u0437\u0430 \u043e\u0431\u0440\u0430\u043d\u0438\u0439 \u043f\u0435\u0440\u0456\u043e\u0434"),r.a.createElement("div",{className:"d-flex justify-content-around flex-wrap"},p.length>0&&r.a.createElement(Te,{title:"\u0413\u0440\u0430\u0444\u0456\u043a \u0441\u0435\u0440\u0435\u0434\u043d\u0456\u0445 \u0432\u0438\u043a\u0438\u0434\u0456\u0432",data:p}),v.length>0&&r.a.createElement(Te,{title:"\u0413\u0440\u0430\u0444\u0456\u043a \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0438\u0445 \u0432\u0438\u043a\u0438\u0434\u0456\u0432",data:v})),E.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"mb-3"},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0435\u043b\u0435\u043c\u0435\u043d\u0442 \u0442\u0430 \u0434\u043b\u044f \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432\u0438\u043a\u0438\u0434\u0456\u0432 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0433\u0440\u0430\u0444\u0456\u043a\u0430"),r.a.createElement(Re,{emissions:he(E)}))),sessionStorage.getItem("user")&&r.a.createElement(Pe.a,{eventKey:"math",title:"\u0420\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043a\u0438"},r.a.createElement(ze,{id:t}))))},Be=(n(157),function(e){var t=e.emissions.slice();return t.length>=4&&(t=t.slice(0,4).reverse()),t.map((function(e,t){var n=e.short_name,a=e.ValueAvg,l=e.ValueMax,c=e.Year,o=e.Month,i=e.day,s=e.Measure;return r.a.createElement("tr",{key:t},r.a.createElement("td",{title:n},n),r.a.createElement("td",{title:a},a),r.a.createElement("td",{title:l},l),r.a.createElement("td",{title:c},c),r.a.createElement("td",{title:o},o),r.a.createElement("td",{title:i},i),r.a.createElement("td",{title:s},s))}))}),Ve=function(e){var t,n=e.id,l=e.coordinates,c=e.Name_object,i=e.description,s=e.image,u=e.emissions,m=e.owner_type,d=e.handleClick,E=e.setComaprePointId,b=e.isPointsNonEditable,h=e.EnvironmentAttachment,p=e.emmissionsStats,v=e.isAdvanced,g=Object(a.useState)(!1),O=Object(o.a)(g,2),j=O[0],y=O[1],C=Object(a.useState)(!1),x=Object(o.a)(C,2),w=x[0],k=x[1],S=Object(a.useState)(p),N=Object(o.a)(S,2),_=N[0],I=(N[1],Object(a.useState)(null)),D=Object(o.a)(I,2),M=D[0],P=D[1];return Object(a.useEffect)((function(){P(function(e){return null==e||e.length<1?null:e.reduce((function(e,t){return e.coif>t.coif?e:t}))}(_))}),[p]),r.a.createElement(we.a,{position:l,icon:Object(_e.a)({html:'\n          <div class="leaflet-div-icon-wraper">\n            <img class="wraper_icon" src="'.concat(s,'" />\n            <svg class="svg_filler" viewBox="0 0 40 55" xmlns="http://www.w3.org/2000/svg">\n              <path style="fill: ').concat(M?M.color:"grey",'; stroke: rgb(0, 0, 0); paint-order: stroke;" d="M 19.742 52.481 C 19.35 52.248 18.131 52.182 16.788 50.942 C 15.401 49.661 14.267 48.988 13.077 47.734 C 11.293 45.855 10.319 44.263 9.121 42.344 C 5.898 37.183 2.623 32.147 1.758 25.723 C 1.22 21.729 0.502 17.489 1.721 13.391 C 3.248 8.256 6.509 4.389 12.588 2.157 C 13.066 1.982 14.057 1.564 14.609 1.472 C 15.143 1.383 15.752 1.299 16.256 1.151 C 21.974 -0.523 27.779 0.952 34.097 6.63 C 37.688 9.857 39.355 15 39.127 20.994 C 38.933 26.087 39.102 31.087 35.405 36.007 C 37.668 32.5 25.365 54.955 19.716 52.365 C 18.622 51.863 30.639 29.002 29.861 27.599 C 29.864 27.599 30.627 26.058 31.425 23.619 C 32.146 21.415 33.086 17.55 30.789 13.627 C 29.632 11.652 27.689 9.557 25.593 8.408 C 23.982 7.525 22.01 7.32 20.447 7.505 C 18.226 7.768 16.089 8.043 14.533 8.742 C 13.397 9.252 11.812 10.129 10.421 11.136 C 9.579 11.746 9.003 13.211 8.631 14.522 C 8.32 15.616 8.256 16.698 8.122 17.938 C 7.787 21.042 8.564 24.565 10.941 27.718 C 12.408 29.664 15.125 30.955 17.804 31.57 C 21.789 32.485 25.982 31.036 29.742 27.499 C 32.037 25.34 35.748 33.857 35.748 33.857"/>\n            </svg>\n          </div>\n          ')})},r.a.createElement(ke.a,{maxWidth:window.innerWidth>=991?"auto":window.innerWidth/1.2},r.a.createElement(Ie.a,{icon:De.c,onClick:function(){y(!j),function(e){E({id:e,isComapre:j})}(n)},className:j?"compare-pencil-icon-active":"compare-pencil-icon"}),sessionStorage.getItem("user")&&!b&&r.a.createElement(Ie.a,{icon:De.d,onClick:function(){return d(n)},className:"edit-pencil-icon"}),r.a.createElement("div",{className:"mt-4 mb-2"},c&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041d\u0430\u0437\u0432\u0430:")," ",(t=c).includes("SAVEDNIPRO_")?"\u041f\u0443\u043d\u043a\u0442 \u0430\u043d\u0430\u043b\u0456\u0437\u0443 \u043f\u043e\u0432\u0456\u0442\u0440\u044f \u2116"+t.slice("SAVEDNIPRO_".length):t),i&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041e\u043f\u0438\u0441:")," ",i),m&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0441\u043d\u043e\u0441\u0442\u0456:")," ",m.name)),u.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"emissions-container"},r.a.createElement(ce.a,{striped:!0,bordered:!0,size:"sm",className:"emissions-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"},"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u0420\u0456\u043a"},"\u0420\u0456\u043a"),r.a.createElement("th",{title:"\u041c\u0456\u0441\u044f\u0446\u044c"},"\u041c\u0456\u0441\u044f\u0446\u044c"),r.a.createElement("th",{title:"\u0414\u0435\u043d\u044c"},"\u0414\u0435\u043d\u044c"),r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"))),r.a.createElement("tbody",null,r.a.createElement(Be,{emissions:u})))),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{size:"sm",onClick:function(){return k(!0)}},"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e"),M?r.a.createElement(oe.a,{style:{marginTop:5},size:"sm",title:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0430\u0431\u0440\u0443\u0434\u0435\u043d\u043d\u044f"},p.map((function(e,t){return r.a.createElement(ie.a.Item,{key:e.short_name+t,onClick:function(){P(e)}},e.short_name)}))):r.a.createElement(r.a.Fragment,null),r.a.createElement(Le,{id:n,isPoint:!0,emissions:u,show:w,EnvironmentAttachment:h,onHide:function(){return k(!1)},isAdvanced:v})))))},We=function(e){var t=e.points,n=e.setShowPointModal,a=e.setPointId,l=e.setIsEditPointMode,c=e.setComaprePointId,o=e.isPointsNonEditable,i=e.uniqueObjectTypes,s=e.isAdvanced,u=function(e){a(e),l(!0),n(!0)};return r.a.createElement(r.a.Fragment,null,i.length>0&&r.a.createElement(Se.a,{position:"topleft"},i.map((function(e,n){return r.a.createElement(Se.a.Overlay,{key:e.Object_Type_Id,checked:!0,name:e.Object_Type_Name},r.a.createElement(Ne.a,null,t.filter((function(t){return t.Object_Type_Id===e.Object_Type_Id})).map((function(e){var t=e.Id,n=e.coordinates,a=e.Name_object,l=e.Description,i=e.Image,m=e.emissions,d=e.owner_type,f=e.Environments,E=e.emmissionsStats;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,{id:t,key:t,coordinates:n,Name_object:a,description:l,image:i,emissions:m,owner_type:d,handleClick:u,setComaprePointId:c,isPointsNonEditable:o,EnvironmentAttachment:f,emmissionsStats:E,isAdvanced:s}))}))))}))))},He=n(828),Ge=n(829),Ue={showEmissionsChartModal:!1,emissionCalculations:[],CorArr:[]},qe=function(e){var t=e.emissions.slice();return t.length>=4&&(t=t.slice(0,4).reverse()),t.map((function(e,t){var n=e.short_name,a=e.ValueAvg,l=e.ValueMax,c=e.Year,o=e.Month,i=e.day,s=e.Measure;return r.a.createElement("tr",{key:t},r.a.createElement("td",{title:n},n),r.a.createElement("td",{title:a},a),r.a.createElement("td",{title:l},l),r.a.createElement("td",{title:c},c),r.a.createElement("td",{title:o},o),r.a.createElement("td",{title:i},i),r.a.createElement("td",{title:s},s))}))},Ke=function(e){var t=e.poligonId,n=e.polygonPoints,l=e.lineThickness,c=e.brushColorR,i=e.brushColorG,s=e.brushColorB,u=e.emissions,m=e.name,d=(e.PointsInfo,e.mapMode),E=e.user_name,b=e.handleClick,h=e.setcomparePolygonId,p=e.isPolyggonsNonEditable,v=e.EnvironmentAttachment,g=r.a.useState(!1),O=Object(o.a)(g,2),j=O[0],y=O[1],C=r.a.useState(!1),x=Object(o.a)(C,2),w=x[0],k=x[1],S=Object(a.useState)([]),N=Object(o.a)(S,2),_=N[0],I=N[1],D=Object(a.useState)(null),M=Object(o.a)(D,2),P=M[0],A=M[1];Object(a.useEffect)((function(){"region"!=d&&(I([]),A(null))}),[d]);return n&&n.length>0?r.a.createElement(He.a,{positions:n,weight:l,color:"rgba(".concat(c,", ").concat(i,", ").concat(s,", 1)")},r.a.createElement(ke.a,{maxWidth:window.innerWidth>=991?"auto":window.innerWidth/1.2},r.a.createElement(Ie.a,{icon:De.c,onClick:function(){y(!j),h({id:t,isComapre:j})},className:j?"compare-pencil-icon-active":"compare-pencil-icon"}),sessionStorage.getItem("user")&&!p&&r.a.createElement(Ie.a,{icon:De.d,onClick:function(){return b(t)},className:"edit-pencil-icon"}),r.a.createElement("div",{className:"mt-4 mb-2"},m&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041d\u0430\u0437\u0432\u0430:")," ",m),E&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u0415\u043a\u0441\u043f\u0435\u0440\u0442 \u044f\u043a\u0438\u0439 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432:")," ",E)),u&&u.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"emissions-container"},r.a.createElement(ce.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"emissions-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"},"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u0420\u0456\u043a"},"\u0420\u0456\u043a"),r.a.createElement("th",{title:"\u041c\u0456\u0441\u044f\u0446\u044c"},"\u041c\u0456\u0441\u044f\u0446\u044c"),r.a.createElement("th",{title:"\u0414\u0435\u043d\u044c"},"\u0414\u0435\u043d\u044c"),r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"))),r.a.createElement("tbody",null,r.a.createElement(qe,{emissions:u})))),r.a.createElement(f.a,{size:"sm",onClick:function(){return k(!0)}},"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043a\u0438 \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement(Le,{id:t,emissions:u,show:w,onHide:function(){return k(!1)},EnvironmentAttachment:v})),P?r.a.createElement(oe.a,{style:{marginTop:5},size:"sm",title:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0430\u0431\u0440\u0443\u0434\u0435\u043d\u043d\u044f"},_.map((function(e,t){return r.a.createElement(ie.a.Item,{key:e.short_name+t,onClick:function(){A(e)}},e.short_name)}))):r.a.createElement(r.a.Fragment,null))):r.a.createElement(r.a.Fragment,null)},Ye=function(e){var t=e.position,n=e.DeleteMarker,a=e.index,l=e.newPolygonCoordinates,c=e.setNewPolygonCoordinates,o=r.a.useRef(null);return r.a.createElement(we.a,{ondrag:function(){Ue.CorArr=Object(te.a)(l),Ue.CorArr[a]=o.current.leafletElement._latlng,c(Ue.CorArr)},key:"AddingN"+a,draggable:!0,position:t,ref:o},r.a.createElement(ke.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{size:"sm",onClick:function(){n(a)}},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u043e\u0447\u043a\u0443"))),r.a.createElement(Ge.a,null," ",a+1," "))},Je=function(e){var t=e.newPolygonCoordinates,n=e.setNewPolygonCoordinates,a=function(e){Ue.CorArr=Object(te.a)(t),Ue.CorArr.splice(Ue.CorArr.findIndex((function(t,n){return n==e})),1),n(Ue.CorArr)};return r.a.createElement(He.a,{positions:t},t.map((function(e,l){return r.a.createElement(Ye,{key:l,position:e,DeleteMarker:a,index:l,newPolygonCoordinates:t,setNewPolygonCoordinates:n})})))},Ze=function(e){var t=e.polygons,n=e.setPolygonId,a=e.setIsEditPolygonMode,l=e.setShowPolygonModal,c=e.PointsInfo,o=e.mapMode,i=e.setcomparePolygonId,s=e.isPolyggonsNonEditable,u=function(e){n(e),a(!0),l(!0)},m=r.a.useContext(K),d=m.environmentsInfo;m.setEnvironmentsInfo;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){var n=e.poligonId,a=e.polygonPoints,l=e.brushColorR,m=e.brushColorG,f=e.brushColorB,E=e.user_name,b=e.name,h=e.emissions,p=e.lineThickness,v=e.idEnvironment,g=e.type,O=e.Environments;if(v===(d.selected?d.selected.id:-1)||"region"==g||O)return r.a.createElement(Ke,{key:"poligonId"+t,poligonId:n,polygonPoints:a,lineThickness:p,brushColorR:l,brushColorG:m,brushColorB:f,emissions:h,name:b,PointsInfo:c,user_name:E,handleClick:u,mapMode:o,setcomparePolygonId:i,isPolyggonsNonEditable:s,EnvironmentAttachment:O})})))},Xe={1:1.6,2:1.3,3:1,4:.85},Qe=function(e,t){var n=t.find((function(t){return e>=t.min&&e<=t.max}));return void 0===n?[]:n},$e=function(e){var t,n,a=0;for(var r in n=e.reduce((function(e,t){return e[t.name]||(e[t.name]=[]),e[t.name].push(t),e}),{}))t=0,a=0,n[r].forEach((function(e){t+=e.ValueAvg/e.mpc_avrg_d,isNaN(t)||t===1/0||(a+=t)})),n[r]={res:Qe(a/n[r].length,j)};var l=[],c=function(e){l.find((function(t){return t.name==e}))||l.push({name:e,res:n[e]})};for(var o in n)c(o);return l},et=function(e){var t,n,a=0;for(var r in n=e.reduce((function(e,t){return e[t.name]||(e[t.name]=[]),e[t.name].push(t),e}),{}))t=0,a=0,n[r].forEach((function(e){t+=e.ValueAvg/e.mpc_avrg_d,isNaN(t)||t===1/0||(a+=t)})),n[r]={res:Qe(a/n[r].length,g)};var l=[],c=function(e){l.find((function(t){return t.name==e}))||l.push({name:e,res:n[e]})};for(var o in n)c(o);return l},tt=[{envirnonment:1,countFunc:function(e){var t,n;for(var a in n=e.reduce((function(e,t){return e[t.name]||(e[t.name]=[]),e[t.name].push(t),e}),{}))t=0,n[a].forEach((function(e){t+=e.ValueAvg})),n[a]={res:Qe(Math.pow(t/n[a].length/n[a][0].mpc_avrg_d,Xe[n[a][0].danger_class]),O)};var r=[],l=function(e){r.find((function(t){return t.name==e}))||r.push({name:e,res:n[e]})};for(var c in n)l(c);return r}},{envirnonment:2,countFunc:$e},{envirnonment:3,countFunc:$e},{envirnonment:4,countFunc:et},{envirnonment:5,countFunc:et},{envirnonment:6,countFunc:$e},{envirnonment:8,countFunc:et}],nt=n(396),at=n.n(nt),rt=(n(681),function(e){var t=e.regionId,n=e.name,l=e.onHide,c=e.show,i="\u041c\u0435\u0434\u0438\u0447\u043d\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 (".concat(n,")"),s=Object(a.useState)([]),u=Object(o.a)(s,2),m=u[0],d=u[1],E=Object(a.useState)([]),b=Object(o.a)(E,2),h=b[0],p=b[1],v=Object(a.useState)([]),g=Object(o.a)(v,2),O=g[0],j=g[1];Object(a.useEffect)((function(){F("/getParams").then((function(e){var t=e.data;d(t)}))}),[]);return r.a.createElement(G,{size:"xl",show:c,onHide:l,header:i},r.a.createElement(Me.a,null,r.a.createElement(Pe.a,{eventKey:"statistics",title:"C\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},r.a.createElement(x.a,null,r.a.createElement(w.a,null,r.a.createElement(k.a,{md:5},r.a.createElement("div",{className:"table-content-wrapper"},r.a.createElement(ce.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u0434\u0430\u0447\u0456"),r.a.createElement("th",null,"\u041f\u043e\u043a\u0430\u0437\u043d\u0438\u043a"),r.a.createElement("th",null,"\u0420\u0456\u043a \u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043a\u0443"))),r.a.createElement("tbody",null,Object.entries(h).map((function(e){return r.a.createElement("tr",{id:e[0],onClick:function(){var t;(t=e[0])&&F("".concat("/getMedStatValues","?id=").concat(t)).then((function(e){var n,a=e.data;j(a.concat({name_of_formula:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f",value:null===(n=h[t][0])||void 0===n?void 0:n.value,measurement_of_formula:"\u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043e\u0441\u0456\u0431"}))}))}},r.a.createElement("td",{title:e[1][0].name},e[1][0].name),r.a.createElement("td",{title:e[1][0].name_of_formula},e[1][0].name_of_formula),r.a.createElement("td",{title:e[1][0].year},e[1][0].year))})))))),r.a.createElement(k.a,null,r.a.createElement(ce.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0443"),r.a.createElement("th",null,"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",null,"\u041e\u0434\u0438\u043d\u0438\u0446\u0456 \u0432\u0438\u043c\u0456\u0440\u0443"))),r.a.createElement("tbody",null,O.map((function(e){return r.a.createElement("tr",{id:e.nomer},r.a.createElement("td",{title:e.name_of_formula},e.name_of_formula),r.a.createElement("td",{title:e.value},e.value),r.a.createElement("td",{title:e.measurement_of_formula},e.measurement_of_formula))}))))),r.a.createElement(k.a,null,r.a.createElement(at.a,{data:m,onUpdateCb:function(e){d(e)},isExpandable:function(e,t){return 2!==t},isDeletable:function(){return!1},onCheckToggleCb:function(e){var t=e[0].isChecked;!function e(n){n.forEach((function(n){n.isChecked=t,n.children&&e(n.children)}))}(e)}}))),r.a.createElement(w.a,null,r.a.createElement(k.a,null,r.a.createElement(f.a,{className:"mt-5",onClick:function(){P("/getMedStatByParams",{regionId:t,checkboxes:JSON.stringify(m)}).then((function(e){var t=e.data;p(t)}))}},"\u041e\u043d\u043e\u0432\u0438\u0442\u0438 \u0434\u0430\u043d\u0456")),r.a.createElement(k.a,{md:3},r.a.createElement("div",{className:"mb-2"},r.a.createElement("b",null,"\u0424\u0456\u043b\u044c\u0442\u0440\u0430\u0446\u0456\u044f \u0437\u0430 \u0440\u043e\u043a\u0430\u043c\u0438:")),r.a.createElement(S.a,{style:{float:"left"}},r.a.createElement(S.a.Check,{label:"2019"}),r.a.createElement(S.a.Check,{label:"\u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u0440\u0456\u043a"}))))))))}),lt=function(e){var t=e.emissions.slice();return t.length>=4&&(t=t.slice(0,4).reverse()),t.map((function(e,t){var n=e.short_name,a=e.ValueAvg,l=e.ValueMax,c=e.Year,o=e.Month,i=e.day,s=e.Measure;return r.a.createElement("tr",{key:t},r.a.createElement("td",{title:n},n),r.a.createElement("td",{title:a},a),r.a.createElement("td",{title:l},l),r.a.createElement("td",{title:c},c),r.a.createElement("td",{title:o},o),r.a.createElement("td",{title:i},i),r.a.createElement("td",{title:s},s))}))},ct=function(e){var t=e.regionId,n=e.regionPoints,l=e.lineThickness,c=e.name,i=e.emissions,s=e.idEnvironment,u=e.AttachedEmmissions,m=e.user_name,d=e.EnvironmentAttachment,E=Object(a.useState)(u),b=Object(o.a)(E,2),h=b[0],p=b[1],v=Object(a.useState)(!1),g=Object(o.a)(v,2),O=g[0],j=g[1],y=Object(a.useState)(!1),C=Object(o.a)(y,2),x=C[0],w=C[1],k=Object(a.useState)([]),S=Object(o.a)(k,2),N=S[0],_=S[1],I=Object(a.useState)(null),D=Object(o.a)(I,2),M=D[0],P=D[1],A=JSON.parse(sessionStorage.getItem("user"));return Object(a.useEffect)((function(){p(u)}),[u]),Object(a.useEffect)((function(){(null===N||void 0===N?void 0:N.length)>0&&P(N.reduce((function(e,t){return e.res.res.lvl>t.res.res.lvl?e:t})))}),[N]),Object(a.useEffect)((function(){_(function(e,t){var n=tt.find((function(t){return t.envirnonment==e}));return n&&(null===t||void 0===t?void 0:t.length)>0?n.countFunc(t):[]}(s,h))}),[h]),r.a.createElement(He.a,{positions:n,weight:l,color:(null===M||void 0===M?void 0:M.res)?M.res.res.color:"grey",fillOpacity:.3},r.a.createElement(ke.a,{maxWidth:window.innerWidth>=991?"auto":window.innerWidth/1.2},r.a.createElement("div",{className:"mt-4 mb-2"},c&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041d\u0430\u0437\u0432\u0430:")," ",c),m&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u0415\u043a\u0441\u043f\u0435\u0440\u0442 \u044f\u043a\u0438\u0439 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432:")," ",m)),i&&i.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"emissions-container"},r.a.createElement(ce.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"emissions-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"},"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u0420\u0456\u043a"},"\u0420\u0456\u043a"),r.a.createElement("th",{title:"\u041c\u0456\u0441\u044f\u0446\u044c"},"\u041c\u0456\u0441\u044f\u0446\u044c"),r.a.createElement("th",{title:"\u0414\u0435\u043d\u044c"},"\u0414\u0435\u043d\u044c"),r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"))),r.a.createElement("tbody",null,r.a.createElement(lt,{emissions:i})))),r.a.createElement(f.a,{size:"sm",onClick:function(){return j(!0)}},"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043a\u0438 \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement(Le,{id:t,emissions:i,show:O,onHide:function(){return j(!1)},EnvironmentAttachment:d})),(null===N||void 0===N?void 0:N.length)>0&&r.a.createElement(oe.a,{style:{marginTop:5},size:"sm",title:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0430\u0431\u0440\u0443\u0434\u0435\u043d\u043d\u044f"},N.map((function(e,t){return r.a.createElement(ie.a.Item,{key:e.name+t,onClick:function(){P(e)}},e.name)}))),r.a.createElement("div",{className:"mt-3"},A&&3===A.id_of_expert&&r.a.createElement("div",null,r.a.createElement(f.a,{size:"sm",onClick:function(){return w(!0)}},"\u041c\u0435\u0434\u0438\u0447\u043d\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"))),r.a.createElement(rt,{regionId:t,name:c,show:x,onHide:function(){return w(!1)}})))},ot=(new Date,new Date,function(e){var t=e.regions,n=e.setFilteredRegions,l=e.ActualRegionDate,c=e.AdvancedEnvironments,i=Object(a.useContext)(K).environmentsInfo,s=i.selected?i.selected.id:null,u=Object(a.useState)(t),m=Object(o.a)(u,2),d=m[0],f=m[1];return Object(a.useEffect)((function(){F(void 0==(null===c||void 0===c?void 0:c.length)?"".concat("/regions","?idEnvironment=").concat(s,"&startDate=").concat(l[0].startDate.toISOString(),"&endDate=").concat(l[0].endDate.toISOString()):"".concat("/regions","?idEnvironment=").concat(c.join("&idEnvironment="),"&startDate=").concat(l[0].startDate.toISOString(),"&endDate=").concat(l[0].endDate.toISOString())).then((function(e){var t=e.data;f(t),n(t)})).catch((function(){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445,\u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043d\u043e\u0432")}))}),[l]),r.a.createElement(r.a.Fragment,null,d.map((function(e,t){var n=e.regionId,a=e.regionPoints,l=e.user_name,c=e.name,o=e.lineThickness,i=e.AttachedEmmissions,u=e.emmissions;return r.a.createElement(ct,{key:"poligonId"+t,regionId:n,idEnvironment:s,regionPoints:a,lineThickness:o,name:c,AttachedEmmissions:i,emissions:u,user_name:l,EnvironmentAttachment:[]})})))}),it=n(833),st={txt:"txt",xlsx:"xlsx"},ut={acceptString:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",extension:st.xlsx},mt={acceptString:"text/plain",extension:st.txt},dt=function(e){var t=e.type,n=e.name.split(".").slice(-1)[0];if(function(e,t){return e.toLowerCase()===st.txt.toLowerCase()&&mt.acceptString.includes(t)}(n,t))return st.txt;if(function(e,t){return e.toLowerCase()===st.xlsx.toLowerCase()&&ut.acceptString.includes(t)}(n,t))return st.xlsx;throw new Error("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0438\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0443")},ft=n(397),Et=function(e){var t=e.split("."),n=Object(o.a)(t,3),a=n[0],r=n[1],l=n[2];return new Date(l,r-1,a)},bt=function(){var e=Object(I.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.split("\n").filter((function(e){return!!e&&e.length})).map((function(e){var t=e.match(/\S+/gi),n=Object(ft.a)(t),a=n[0],r=n.slice(1);return"DATE"===a?[a,Et(r[0])]:[a,r.join(" ")]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=n(830),pt=(n(336),new Date),vt=pt.getFullYear(),gt=("0"+(pt.getMonth()+1)).slice(-2),Ot=("0"+pt.getDate()).slice(-2),jt={form:{date:"".concat(vt,"-").concat(gt,"-").concat(Ot),valueAvg:0,valueMax:0,gdk:1e5,element:{code:0,short_name:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0435\u043b\u0435\u043c\u0435\u043d\u0442"},measure:""}},yt=function(e){var t=e.onSave,n=e.preloadedEmission,l=e.isLoading,c=Object(a.useContext)(K).environmentsInfo,i=Object(a.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=u?"\u0421\u0445\u043e\u0432\u0430\u0442\u0438":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435",E=Object(a.useState)(jt.form.date),b=Object(o.a)(E,2),h=b[0],p=b[1],v=Object(a.useState)(jt.form.valueAvg),g=Object(o.a)(v,2),O=g[0],j=g[1],y=Object(a.useState)(jt.form.gdk),C=Object(o.a)(y,2),x=C[0],w=C[1],k=Object(a.useState)(jt.form.valueMax),N=Object(o.a)(k,2),_=N[0],I=N[1],D=Object(a.useState)(jt.form.gdk),M=Object(o.a)(D,2),A=M[0],T=M[1],R=Object(a.useState)([]),z=Object(o.a)(R,2),L=z[0],B=z[1],V=Object(a.useState)(jt.form.element),W=Object(o.a)(V,2),H=W[0],G=W[1],U=Object(a.useState)(jt.form.measure),q=Object(o.a)(U,2),Y=q[0],Z=q[1],X=function(){var e;if(u&&h){var n=h.split("-"),a=Object(o.a)(n,3),r=a[0],l=a[1],i=a[2];e=u&&{valueAvg:O,valueMax:_,year:r,month:l,day:i,idElement:H.code,idEnvironment:c.selected.id,measure:Y}}t(e),p(jt.form.date),j(jt.form.valueAvg),w(jt.form.gdk),I(jt.form.valueMax),T(jt.form.gdk),G(jt.form.element),Z(jt.form.measure),m(!1)},Q=function(e){G(e),Z(e.measure),P("/gdk/find",{code:e.code,environment:c.selected.id}).then((function(e){var t=e.data;t.average&&t.max?(w(t.average),T(t.max)):(w(jt.form.valueAvg),T(jt.form.valueMax))}))},$=function(e){new Date(e)>pt?p("".concat(vt,"-").concat(gt,"-").concat(Ot)):p(e)};return Object(a.useEffect)((function(){F("/elements").then((function(e){var t=e.data;return B(t)}))}),[]),Object(a.useEffect)((function(){if(n)try{var e=n.date,t=n.elementName,a=n.maximumValue,r=n.averageValue,l="".concat(e.getFullYear(),"-").concat(("0"+(e.getMonth()+1)).slice(-2),"-").concat(("0"+e.getDate()).slice(-2));$(l);var c=L.find((function(e){return e.short_name===t}));Q(c),j(+r),I(+a),m(!0)}catch(o){alert(o.toString()),console.error(o)}}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(f.a,{onClick:function(){m(!u)}},d)),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443"),r.a.createElement(S.a.Control,{type:"date",value:h,onChange:function(e){return $(e.target.value)}})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement(S.a.Control,{type:"number",min:"0",value:O,onChange:function(e){return j(+e.target.value)}})),x>0&&x<O&&r.a.createElement(ht.a,{variant:"danger"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0454 \u0413\u0414\u041a (",x,")"),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement(S.a.Control,{type:"number",min:"0",value:_,onChange:function(e){return I(+e.target.value)}})),A>0&&A<_&&r.a.createElement(ht.a,{variant:"danger"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0454 \u0413\u0414\u041a(",A,")"),r.a.createElement(S.a.Group,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Toggle,{size:"sm",variant:"success"},H.short_name),r.a.createElement(ie.a.Menu,{className:"form-dropdown"},L.length&&L.map((function(e){return r.a.createElement(ie.a.Item,{key:e.code,onClick:function(){return Q(e)}},e.short_name)}))))),Y&&r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0420\u043e\u0437\u043c\u0456\u0440\u043d\u0456\u0441\u0442\u044c"),r.a.createElement(S.a.Control,{type:"input",disabled:!0,value:Y}))),l?r.a.createElement(f.a,{variant:"outline-primary",onClick:X,style:{cursor:"not-allowed",pointerEvents:"all"},disabled:!0},r.a.createElement(J.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"\u041e\u0431\u0440\u043e\u0431\u043a\u0430..."):r.a.createElement(f.a,{variant:"outline-primary",onClick:X},"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"))},Ct={name:"",description:"",type:{id:0,name:""},ownerType:{id:0,type:""}},xt=null,wt="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043e\u0431'\u0454\u043a\u0442\u0443",kt="\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0441\u043d\u043e\u0441\u0442\u0456",St=function(e){var t=e.onHide,n=e.show,l=e.coordinates,c=e.setShouldFetchData,i=e.isEditPointMode,s=e.setIsEditPointMode,u=e.pointId,m=e.setPointId,d=e.user,f=Object(a.useState)(Ct.name),E=Object(o.a)(f,2),b=E[0],h=E[1],p=Object(a.useState)(Ct.description),v=Object(o.a)(p,2),g=v[0],O=v[1],j=Object(a.useState)(Ct.type),y=Object(o.a)(j,2),C=y[0],x=y[1],w=Object(a.useState)(Ct.ownerType),k=Object(o.a)(w,2),N=k[0],D=k[1],M=Object(a.useState)([]),A=Object(o.a)(M,2),T=A[0],z=A[1],L=Object(a.useState)([]),B=Object(o.a)(L,2),V=B[0],W=B[1],H=Object(a.useState)(!1),U=Object(o.a)(H,2),q=U[0],K=U[1],Y=Object(a.useState)(xt),J=Object(o.a)(Y,2),Z=J[0],X=J[1],Q=function(){h(Ct.name),O(Ct.description),x(Ct.type),D(Ct.ownerType),X(xt),s(!1),m(null)},$=function(){Q(),t()};Object(a.useEffect)((function(){F("/typeofobjects").then((function(e){var t=e.data.map((function(e){return{id:e.Id,name:e.Name,imageName:e.Image_Name}}));z(t)})),F("/ownertypes").then((function(e){var t=e.data;W(t)}))}),[]),Object(a.useEffect)((function(){i&&u&&F("".concat("/point","/").concat(u)).then((function(e){var t=e.data,n=T.find((function(e){return e.id===t.type})),a=V.find((function(e){return e.id===t.owner_type.id}));n&&x(n),a&&D(a),h(t.Name_object),O(t.description)}))}),[u,i]);var ee=function(){var e=Object(I.a)(_.a.mark((function e(t){var n,a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!t.target.files||!t.target.files.length){e.next=20;break}if(e.prev=2,(n=dt(t.target.files[0]))!==st.txt){e.next=10;break}(a=new FileReader).onload=function(){var e=Object(I.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(t.target.result);case 2:n=e.sent,te(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(t.target.files[0],"UTF-8"),e.next=15;break;case 10:if(n!==st.xlsx){e.next=15;break}return e.next=13,Object(it.a)(t.target.files[0]);case 13:r=e.sent,te(r);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u043e\u0431\u0446\u0456 \u0432\u0445\u0456\u0434\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445");case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),te=function(e){var t=null,n=new Map([["OBJECT_TYPE",function(e){var t=T.find((function(t){return t.name===e}));x(t)}],["OWNER_TYPE",function(e){var t=V.find((function(t){return t.type===e}));D(t)}],["NAME",function(e){return h(e)}],["DESCRIPTION",function(e){return O(e)}],["DATE",function(e){return t=Object(Ae.a)(Object(Ae.a)({},t),{},{date:e})}],["ELEMENT",function(e){return t=Object(Ae.a)(Object(Ae.a)({},t),{},{elementName:e})}],["AVERAGE_VALUE",function(e){return t=Object(Ae.a)(Object(Ae.a)({},t),{},{averageValue:e})}],["MAXIMUM_VALUE",function(e){return t=Object(Ae.a)(Object(Ae.a)({},t),{},{maximumValue:e})}]]);try{e.forEach((function(e){var t=Object(o.a)(e,2),a=t[0],r=t[1];return n.get(a)(r)})),X(t)}catch(a){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430. \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0456 \u0434\u0430\u043d\u0456"),console.error(a)}};return r.a.createElement(G,{size:"lg",show:n,onHide:function(){return $()},header:i?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043c\u0430\u0440\u043a\u0435\u0440"},r.a.createElement(S.a,null,r.a.createElement(S.a.Group,null,r.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0456\u0437 Excel \u0430\u0431\u043e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430"),r.a.createElement("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, text/plain",onChange:function(e){return ee(e)}})),r.a.createElement(S.a.Group,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Toggle,{size:"sm",variant:"success"},C.name||wt),r.a.createElement(ie.a.Menu,{className:"form-dropdown"},T.length&&T.map((function(e){return r.a.createElement(ie.a.Item,{key:e.id,active:e===C,onClick:function(){return x(e)}},e.name)}))))),r.a.createElement(S.a.Group,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Toggle,{size:"sm",variant:"success"},N.type||kt),r.a.createElement(ie.a.Menu,null,V.length&&V.map((function(e){return r.a.createElement(ie.a.Item,{key:e.id,active:e===N,onClick:function(){return D(e)}},e.type)}))))),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c\u044f"),r.a.createElement(S.a.Control,{type:"input",value:b,onChange:function(e){return h(e.target.value)}})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u043f\u0438\u0441"),r.a.createElement(S.a.Control,{as:"textarea",rows:"3",value:g,onChange:function(e){return O(e.target.value)}})),i?r.a.createElement(yt,{onSave:function(e){K(!0),R("".concat("/point","/").concat(u),{Name_object:b,description:g,type:C.id,owner_type_id:N.id,emission:e}).then((function(){Q(),t(),c(!0),s(!1),m(null),K(!1)})).catch((function(e){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445."),console.log(e),c(!1),s(!1),m(null),s(!1),m(null),K(!1)}))},preloadedEmission:Z,isLoading:q}):r.a.createElement(yt,{onSave:function(e){K(!0),P("/point",{Name_object:b,description:g,type:C.id,coordinates:l,emission:e,id_of_user:d.id_of_user,owner_type_id:N.id}).then((function(){Q(),t(),c(!0),K(!1)})).catch((function(e){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445."),console.log(e),c(!1),K(!1)}))},preloadedEmission:Z,isLoading:q})))},Nt=n(181),_t={brushColor:{r:0,g:0,b:0,a:1},lineThickness:1,name:"",type:"polygon",description:""},It=null,Dt=function(e){var t=e.onHide,n=e.show,l=e.coordinates,c=e.setShouldFetchData,i=e.setNewPolygonCoordinates,s=e.user,u=e.isEditPolygonMode,m=e.setIsEditPolygonMode,d=e.polygonId,f=e.setPolygonId,E=Object(a.useState)(_t.lineThickness),b=Object(o.a)(E,2),h=b[0],p=b[1],v=Object(a.useState)(_t.brushColor),g=Object(o.a)(v,2),O=g[0],j=g[1],y=Object(a.useState)(_t.name),C=Object(o.a)(y,2),x=C[0],w=C[1],k=Object(a.useState)(_t.description),N=Object(o.a)(k,2),D=N[0],M=N[1],A=Object(a.useState)(It),T=Object(o.a)(A,2),z=T[0],L=T[1],B=Object(a.useState)(!1),V=Object(o.a)(B,2),W=V[0],H=V[1],U=function(){p(_t.lineThickness),j(_t.brushColor),w(_t.name),M(_t.description),L(It),m(!1),f(null)};Object(a.useEffect)((function(){d&&u&&F("".concat("/polygon","/").concat(d)).then((function(e){var t=e.data;p(t.line_thickness),j({r:t.brush_color_r,g:t.bruch_color_g,b:t.brush_color_b,a:t.brush_alfa}),w(t.name),M(t.description)}))}),[d,u]);var q=function(){U(),t()},K=function(e){var t=null,n=new Map([["LINE_THICKNESS",function(e){return p(e)}],["COLOR",function(e){return j(function(e){try{if(!/rgba/gi.test(e))throw new Error("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u043b\u044f \u043a\u043e\u043b\u044c\u043e\u0440\u0443");var t=e.match(/\d*\.?\d+/gi).map((function(e){return+e}));if(4!==t.length)throw new Error("\u041a\u043e\u043b\u044c\u043e\u0440\u0438 \u0437\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u0456 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e");var n=Object(o.a)(t,4);return{r:n[0],g:n[1],b:n[2],a:n[3]}}catch(a){console.error(a),alert(a.message)}}(e))}],["NAME",function(e){return w(e)}],["DESCRIPTION",function(e){return M(e)}],["DATE",function(e){return t=Object(Ae.a)(Object(Ae.a)({},t),{},{date:e})}],["ELEMENT",function(e){return t=Object(Ae.a)(Object(Ae.a)({},t),{},{elementName:e})}],["AVERAGE_VALUE",function(e){return t=Object(Ae.a)(Object(Ae.a)({},t),{},{averageValue:e})}],["MAXIMUM_VALUE",function(e){return t=Object(Ae.a)(Object(Ae.a)({},t),{},{maximumValue:e})}]]);try{e.forEach((function(e){var t=Object(o.a)(e,2),a=t[0],r=t[1];return n.get(a)(r)})),L(t)}catch(a){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430. \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0456 \u0434\u0430\u043d\u0456"),console.error(a)}},Y=function(){var e=Object(I.a)(_.a.mark((function e(t){var n,a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!t.target.files||!t.target.files.length){e.next=20;break}if(e.prev=2,(n=dt(t.target.files[0]))!==st.txt){e.next=10;break}(a=new FileReader).onload=function(){var e=Object(I.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(t.target.result);case 2:n=e.sent,K(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(t.target.files[0],"UTF-8"),e.next=15;break;case 10:if(n!==st.xlsx){e.next=15;break}return e.next=13,Object(it.a)(t.target.files[0]);case 13:r=e.sent,K(r);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u043e\u0431\u0446\u0456 \u0432\u0445\u0456\u0434\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445");case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(G,{size:"lg",show:n,onHide:function(){return q()},header:u?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u043b\u0456\u0433\u043e\u043d":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u043e\u043b\u0456\u0433\u043e\u043d"},r.a.createElement(S.a,null,r.a.createElement(S.a.Group,null,r.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0438 \u0434\u0430\u043d\u0456 \u0456\u0437 Excel \u0430\u0431\u043e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430"),r.a.createElement("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, text/plain",onChange:function(e){return Y(e)}})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043e\u043b\u0456\u0440 \u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0430 \u0442\u0430 \u0442\u043e\u0432\u0449\u0438\u043d\u0443 \u043b\u0456\u043d\u0456\u0457"),r.a.createElement(S.a.Control,{type:"number",value:h,min:1,onChange:function(e){return p(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(Nt.SketchPicker,{color:O,onChangeComplete:function(e){var t=e.rgb;return j(t)}})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0443"),r.a.createElement(S.a.Control,{type:"input",value:x,onChange:function(e){return w(e.target.value)}})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043e\u043f\u0438\u0441 \u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0443"),r.a.createElement(S.a.Control,{as:"textarea",rows:"3",value:D,onChange:function(e){return M(e.target.value)}})),u?r.a.createElement(yt,{onSave:function(e){H(!0),R("".concat("/polygon","/").concat(d),{brush_color_r:O.r,bruch_color_g:O.g,brush_color_b:O.b,brush_alfa:O.a,line_collor_r:O.r,line_color_g:O.g,line_color_b:O.b,line_alfa:O.a,line_thickness:Number(h),name:x,description:D,emission:e}).then((function(){U(),t(),i([]),c(!0),m(!1),f(null),H(!1)})).catch((function(e){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445."),console.log(e),m(!1),f(null),i([]),c(!1),H(!1)}))},preloadedEmission:z,isLoading:W}):r.a.createElement(yt,{onSave:function(e){H(!0),P("/polygon",{brush_color_r:O.r,bruch_color_g:O.g,brush_color_b:O.b,brush_alfa:O.a,line_collor_r:O.r,line_color_g:O.g,line_color_b:O.b,line_alfa:O.a,line_thickness:Number(h),name:x,id_of_user:Number(s.id_of_user),type:_t.type,description:D,points:l.map((function(e,t){return{latitude:e.lat,longitude:e.lng,order123:t+1}})),emission:e}).then((function(){U(),t(),i([]),c(!0),H(!1)})).catch((function(e){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445."),console.log(e),i([]),c(!1),H(!1)}))},preloadedEmission:z,isLoading:W})))},Mt={brushColor:{r:0,g:0,b:0,a:1},lineThickness:1,name:"",type:"tube",description:""},Pt=function(e){var t=e.show,n=e.onHide,l=e.coordinates,c=e.user,i=e.setShouldFetchData,s=e.tubeId,u=e.settubeId,m=e.isEditTubeMode,d=e.setisEditTubeMode,E=e.setnewTubeCordinates,b=Object(a.useState)(Mt.lineThickness),h=Object(o.a)(b,2),p=h[0],v=h[1],g=Object(a.useState)(Mt.brushColor),O=Object(o.a)(g,2),j=O[0],y=O[1],C=Object(a.useState)(Mt.name),x=Object(o.a)(C,2),w=x[0],k=x[1],N=Object(a.useState)(Mt.description),_=Object(o.a)(N,2),I=_[0],D=_[1],M=function(){n(),A()},A=function(){v(Mt.lineThickness),y(Mt.brushColor),k(Mt.name),D(Mt.description),d(!1),u(null)};Object(a.useEffect)((function(){s&&m&&F("".concat("/tube","/").concat(s)).then((function(e){var t=e.data;v(t.line_thickness),y({r:t.line_collor_r,g:t.line_color_g,b:t.line_color_b,a:t.line_alfa}),k(t.name),D(t.description)}))}),[s,m]);return r.a.createElement(G,{size:"lg",show:t,onHide:function(){return M()},header:m?"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u0440\u0443\u0431\u0443":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0440\u0443\u0431\u0443"},r.a.createElement(S.a,null,r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043a\u043e\u043b\u0456\u0440 \u0442\u0440\u0443\u0431\u0438 \u0442\u0430 \u0442\u043e\u0432\u0449\u0438\u043d\u0443 \u043b\u0456\u043d\u0456\u0457"),r.a.createElement(S.a.Control,{type:"number",value:p,min:1,onChange:function(e){return v(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(Nt.SketchPicker,{color:j,onChangeComplete:function(e){var t=e.rgb;return y(t)}})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f \u0442\u0440\u0443\u0431\u0438"),r.a.createElement(S.a.Control,{type:"input",value:w,onChange:function(e){return k(e.target.value)}})),r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043e\u043f\u0438\u0441 \u0442\u0440\u0443\u0431\u0438"),r.a.createElement(S.a.Control,{as:"textarea",rows:"3",value:I,onChange:function(e){return D(e.target.value)}})),m?r.a.createElement(f.a,{size:"sm",onClick:function(){R("".concat("/tube","/").concat(s),{brush_color_r:j.r,bruch_color_g:j.g,brush_color_b:j.b,brush_alfa:j.a,line_collor_r:j.r,line_color_g:j.g,line_color_b:j.b,line_alfa:j.a,line_thickness:Number(p),name:w,description:I}).then((function(){A(),n(),E([]),i(!0),d(!1),u(null)})).catch((function(e){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445."),console.log(e),d(!1),u(null),E([]),i(!1)}))}},"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0442\u0440\u0443\u0431\u0443"):r.a.createElement(f.a,{size:"sm",onClick:function(){p&&w&&c&&c.id_of_user?P("/tube",{line_collor_r:j.r,line_color_g:j.g,line_color_b:j.b,line_alfa:j.a,line_thickness:Number(p),name:w,id_of_user:Number(c.id_of_user),type:Mt.type,description:I,points:l.map((function(e,t){return{latitude:e.lat,longitude:e.lng,order123:t+1}}))}).then((function(){M(),i(!0)})).catch((function(e){alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445."),console.log(e),i(!1)})):alert("\u0417\u0430\u043f\u043e\u043c\u043d\u0456\u0442\u044c \u0442\u0430\u043a\u0456 \u043f\u043e\u043b\u044f:\n-\u043d\u0430\u0437\u0432\u0430\n-\u0448\u0438\u0440\u0438\u043d\u0430 \u043b\u0456\u043d\u0456\u0457\n\u0422\u0430 \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443")}},"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0440\u0443\u0431\u0443")))},At=(n(795),function(e){var t=e.filteredPoints,n=e.setFilteredPoints,l=e.setFilteredItems,c=Object(a.useState)("\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"),i=Object(o.a)(c,2),s=i[0],u=i[1],m=Object(a.useState)(null),d=Object(o.a)(m,2),f=d[0],E=d[1],b=Object(a.useState)([]),h=Object(o.a)(b,2),p=h[0],v=h[1],g=function(){F("/tasks").then((function(e){var t=e.data,n=[];t.forEach((function(e){n.some((function(t){return t.name===e.name}))||n.push({name:e.name,object_arr:[]})})),t.forEach((function(e){var t=n.find((function(t){return t.name===e.name}));t&&t.object_arr.push(e.id_of_object)})),v(n)}))},O=Object(a.useState)(!1),j=Object(o.a)(O,2),y=j[0],C=j[1];Object(a.useEffect)((function(){0===p.length&&g()}),[]);return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("b",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),r.a.createElement(oe.a,{onClick:function(){g(),C(!y)},className:"drop-tasks",title:s},p.length>0&&t.length>0&&r.a.createElement(r.a.Fragment,null,f&&r.a.createElement(ie.a.Item,{onClick:function(){l({isMyObjectsSelectionChecked:!1,items:[]}),u("\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"),E(null),C(!y)}},"\u0412\u0456\u0434\u043c\u0456\u043d\u0430"),p.map((function(e,a){return f?r.a.createElement(r.a.Fragment,null):r.a.createElement(ie.a.Item,{key:a,active:e.chosen,onClick:function(){!function(e){var a=t.filter((function(t){if(e.object_arr.some((function(e){return e===t.Id})))return t}));a.length>0?(n(a),E(e.name),u(e.name.length>12?e.name.substring(0,10)+"...":e.name),C(!y)):alert("\u041f\u043e \u0434\u0430\u043d\u0456\u0439 \u0437\u0430\u0434\u0430\u0447\u0456 \u043d\u0435\u043c\u0430 \u043c\u0430\u0440\u043a\u0435\u0440\u0456\u0432")}(e)}},e.name)}))),0===p.length||0===t.length?r.a.createElement(ie.a.Item,null,"\u041d\u0435\u043c\u0430\u0454 \u0437\u0430\u0434\u0430\u0447"):""))});function Ft(e,t){Object(a.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}n(796),n(797);var Tt=function(e){var t=e.setOpened;return r.a.createElement("div",{onClick:function(){t((function(e){return!e}))},className:"pseudo"})},Rt=function(e){var t,n=e.user,l=e.filteredPoints,c=e.setFilteredPoints,i=e.setFilteredItems,s=e.environmentsInfo,u=e.sideLeftFilterOpened,m=e.setLeftFilterOpened,d=Object(a.useState)([]),E=Object(o.a)(d,2),b=E[0],h=E[1],p=Object(a.useState)(""),v=Object(o.a)(p,2),g=v[0],O=v[1],j=Object(a.useRef)();Ft(j,(function(){m(!1)})),Object(a.useEffect)((function(){F("/experts").then((function(e){var t=e.data;h(t)})),s.selected&&O(s.selected.name)}),[]);return r.a.createElement("div",{ref:j,className:"filtration-form ".concat(u?"":"transLeft")},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,"\u041e\u0431\u0440\u0430\u043d\u0430 \u043a\u0430\u0440\u0442\u0430:"),r.a.createElement("p",null,g),r.a.createElement("hr",null)),r.a.createElement(S.a,{onSubmit:function(e){e.preventDefault();var a=t,r=a.expertCheckbox,l=a.myCheckbox,c=Array.from(r).filter((function(e){return e.checked})).map((function(e){var t=e.value;return b.find((function(e){return+e.id_of_expert===+t}))}));l&&l.checked?i({isMyObjectsSelectionChecked:!0,items:[].concat(Object(te.a)(c),[n])}):i({isMyObjectsSelectionChecked:!1,items:c})},className:"d-flex justify-content-center flex-column",ref:function(e){return t=e}},r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Label,null,r.a.createElement("b",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0430")),b.length&&b.map((function(e){return r.a.createElement(S.a.Check,{label:e.expert_name,type:"checkbox",value:e.id_of_expert,key:e.id_of_expert,name:"expertCheckbox"})})),n&&r.a.createElement(S.a.Check,{label:"\u041c\u043e\u0457 \u043e\u0431'\u0454\u043a\u0442\u0438",type:"checkbox",value:n.id_of_user,key:n.id_of_user,name:"myCheckbox"})),r.a.createElement(f.a,{variant:"primary",type:"submit",className:"text-center"},"\u0417\u0430\u0441\u0442\u043e\u0441\u0443\u0432\u0430\u0442\u0438")),n&&r.a.createElement(At,{filteredPoints:l,setFilteredPoints:c,setFilteredItems:i})),r.a.createElement(Tt,{setOpened:m}))},zt=n(375),Lt=function(e){var t=e.setmapMode,n=(Object(le.a)(e,["setmapMode"]),Object(a.useState)("\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0456 \u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438")),l=Object(o.a)(n,2),c=l[0],i=l[1],s=function(e,n){i(e),t(n)};return r.a.createElement(S.a,null,r.a.createElement(S.a.Label,null,"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f \u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0456\u0432"),r.a.createElement(oe.a,{title:c},r.a.createElement(ie.a.Item,{eventKey:"base",onClick:function(){s("\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0456 \u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438",null)}},"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0456 \u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0438"),r.a.createElement(ie.a.Item,{eventKey:"region",onClick:function(){s("\u041e\u0431\u043b\u0430\u0441\u0442\u0456","region")}},"\u041e\u0431\u043b\u0430\u0441\u0442\u0456"),r.a.createElement(ie.a.Item,{eventKey:"tubes",onClick:function(){s("\u0422\u0440\u0443\u0431\u043e\u043f\u0440\u043e\u0432\u0456\u0434","tubes")}},"\u0422\u0440\u0443\u0431\u043e\u043f\u0440\u043e\u0432\u0456\u0434")))},Bt=(n(798),{Cities:null});F("/getcities").then((function(e){Bt.Cities=e.data}));var Vt=r.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return r.a.createElement("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),a(e)}},n,"\u25bc")})),Wt=r.a.forwardRef((function(e,t){var n=e.children,l=e.style,c=e.className,i=e["aria-labelledby"],s=Object(a.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",{ref:t,style:l,className:c,"aria-labelledby":i},r.a.createElement(zt.a,{autoFocus:!0,className:"my-2 w-75 m-auto",placeholder:"Type to filter...",onChange:function(e){return d(e.target.value)},value:m}),r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(n).filter((function(e){return!m||e.props.children.toLowerCase().startsWith(m)||e.props.children.startsWith(m)}))))})),Ht=function(e){var t=e.ViewReposition,n=Object(a.useState)([]),l=Object(o.a)(n,2),c=l[0],i=l[1];return Object(a.useEffect)((function(){i(Bt.Cities)}),[Bt.Cities]),r.a.createElement(S.a,null,r.a.createElement(S.a.Label,null," \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043c\u0456\u0441\u0442\u0430 "),r.a.createElement(ie.a,null,r.a.createElement(ie.a.Toggle,{as:Vt,id:"dropdown-custom-components"},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e"),r.a.createElement(ie.a.Menu,{className:"smallCities",as:Wt},c&&c.map((function(e,n){return r.a.createElement(ie.a.Item,{key:n,onClick:function(){t(e.lat,e.lon)}},e.Name)})))))},Gt=function(e){var t=e.ViewReposition,n=Object(a.useState)(),l=Object(o.a)(n,2),c=l[0],i=l[1],s=Object(a.useState)(),u=Object(o.a)(s,2),m=u[0],d=u[1],E=Object(a.useState)(!1),b=Object(o.a)(E,2),h=b[0],p=b[1];return r.a.createElement(S.a,null,r.a.createElement(S.a.Label,null," \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0438 "),r.a.createElement(w.a,{style:{width:"100%",marginLeft:"0",marginRight:"0"}},r.a.createElement(k.a,null,r.a.createElement(S.a.Control,{placeholder:"\u0428\u0438\u0440\u043e\u0442\u0430",className:"input-invalid",size:"sm",required:!0,isInvalid:h,onChange:function(e){i(e.target.value)}})),r.a.createElement(k.a,null,r.a.createElement(S.a.Control,{placeholder:"\u0414\u043e\u0432\u0433\u043e\u0442\u0430",className:"input-invalid",size:"sm",required:!0,isInvalid:h,onChange:function(e){d(e.target.value)}}))),r.a.createElement(f.a,{size:"sm",className:"subBTN",onClick:function(e){isNaN(c)||isNaN(m)?p(!0):(p(!1),t(c,m))}}," ","\u0417\u043d\u0430\u0439\u0442\u0438"," "))},Ut=function(e){var t=e.ViewReposition,n=r.a.useState(""),a=Object(o.a)(n,2),l=a[0],c=a[1],i=r.a.useState(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=r.a.useState(!1),E=Object(o.a)(d,2),b=E[0],h=E[1];return r.a.useEffect((function(){b&&setTimeout((function(){h(!1)}),3e3)}),[b]),r.a.createElement(S.a,null,r.a.createElement(S.a.Label,null," \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0430\u0434\u0440\u0435\u0441\u0441\u0443 "),r.a.createElement(S.a.Control,{placeholder:"\u0410\u0434\u0440\u0435\u0441\u0441\u0430 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e",required:!0,size:"sm",isInvalid:u,onChange:function(e){c(e.target.value)}}),r.a.createElement(S.a.Label,{className:b?"tempWarning":"tempWarningOff"},"\u0410\u0434\u0440\u0435\u0441\u0441\u0430 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement(f.a,{size:"sm",className:"subBTN",onClick:function(){l?(m(!1),M.a.get("https://nominatim.openstreetmap.org/search/?format=json&street=".concat(l,"&addressdetails=1&limit=1")).then((function(e){var n=e.data;n[0]?t(n[0].lat,n[0].lon,16):h(!0)}))):m(!0)}}," ","\u0417\u043d\u0430\u0439\u0442\u0438"," "))},qt=function(e){var t=e.ViewReposition,n=e.setmapMode,l=e.sideRightFilterOpened,c=e.setRightFilterOpened,o=Object(a.useRef)();return Ft(o,(function(){c(!1)})),r.a.createElement("div",{ref:o,className:"MapFinderForm ".concat(l?"":"transRight")},r.a.createElement(Tt,{setOpened:c}),r.a.createElement("div",null,r.a.createElement(Lt,{setmapMode:n}),r.a.createElement("hr",null),r.a.createElement(Ht,{ViewReposition:t}),r.a.createElement("hr",null),r.a.createElement(Gt,{ViewReposition:t}),r.a.createElement("hr",null),r.a.createElement(Ut,{ViewReposition:t})))},Kt=n(831),Yt={showEmissionsChartModal:!1,emissionCalculations:[],CorArr:[]},Jt=function(e){var t=e.emissions.slice();return t.length>=4&&(t=t.slice(t.length-4,t.length)),t.map((function(e,t){var n=e.short_name,a=e.ValueAvg,l=e.ValueMax,c=e.Year,o=e.Month,i=e.day,s=e.Measure;return r.a.createElement("tr",{key:t},r.a.createElement("td",{title:n},n),r.a.createElement("td",{title:a},a),r.a.createElement("td",{title:l},l),r.a.createElement("td",{title:c},c),r.a.createElement("td",{title:o},o),r.a.createElement("td",{title:i},i),r.a.createElement("td",{title:s},s))}))},Zt=function(e){var t=e.tube,n=e.handleClick,l=Object(a.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1];return r.a.createElement(Kt.a,{positions:[t.polygonPoints],color:"rgba(".concat(t.lineCollorR,", ").concat(t.lineColorG,", ").concat(t.lineColorB,", 1)"),weight:t.lineThickness},r.a.createElement(ke.a,{maxWidth:"auto"},sessionStorage.getItem("user")&&r.a.createElement(Ie.a,{icon:De.d,onClick:function(){return n(t.poligonId)},className:"edit-pencil-icon"}),t.name&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u041d\u0430\u0437\u0432\u0430:"),t.name),t.user_name&&r.a.createElement("div",null,r.a.createElement("strong",null,"\u0415\u043a\u0441\u043f\u0435\u0440\u0442 \u044f\u043a\u0438\u0439 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432:"),t.user_name),t.emissions&&t.emissions.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"emissions-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"},"\u0425\u0456\u043c\u0456\u0447\u043d\u0438\u0439 \u0435\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement("th",{title:"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u0421\u0435\u0440\u0435\u0434\u043d\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"),r.a.createElement("th",{title:"\u0420\u0456\u043a"},"\u0420\u0456\u043a"),r.a.createElement("th",{title:"\u041c\u0456\u0441\u044f\u0446\u044c"},"\u041c\u0456\u0441\u044f\u0446\u044c"),r.a.createElement("th",{title:"\u0414\u0435\u043d\u044c"},"\u0414\u0435\u043d\u044c"),r.a.createElement("th",{title:"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"},"\u041e\u0434\u0438\u043d\u0438\u0446\u044f \u0432\u0438\u043c\u0456\u0440\u0443"))),r.a.createElement("tbody",null,r.a.createElement(Jt,{emissions:t.emissions}))),r.a.createElement(f.a,{size:"sm",onClick:function(){return s(!0)}},"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0433\u0440\u0430\u0444\u0456\u043a\u0438 \u0432\u0438\u043a\u0438\u0434\u0456\u0432"),r.a.createElement(Le,{id:t.poligonId,emissions:t.emissions,show:i,onHide:function(){return s(!1)}}))))},Xt=function(e){var t=e.tubeArr,n=e.settubeId,a=e.setisEditTubeMode,l=e.setshowTubeModal,c=function(e){n(e),a(!0),l(!0)};return r.a.createElement(r.a.Fragment,null,t.map((function(e){if(e.polygonPoints)return r.a.createElement(Zt,{key:e.poligonId,tube:e,handleClick:c})})))},Qt=function(e){var t=e.position,n=e.DeleteMarker,a=e.index,l=e.newTubeCordinates,c=e.setnewTubeCordinates,o=r.a.useRef(null);return r.a.createElement(we.a,{ondrag:function(){Yt.CorArr=Object(te.a)(l),Yt.CorArr[a]=o.current.leafletElement._latlng,c(Yt.CorArr)},key:"AddingN"+a,draggable:!0,position:t,ref:o},r.a.createElement(ke.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{size:"sm",onClick:function(){n(a)}},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u043e\u0447\u043a\u0443"))),r.a.createElement(Ge.a,null," ",a+1," "))},$t=function(e){var t=e.newTubeCordinates,n=e.setnewTubeCordinates,a=function(e){Yt.CorArr=Object(te.a)(t),Yt.CorArr.splice(Yt.CorArr.findIndex((function(t,n){return n===e})),1),n(Yt.CorArr)};return r.a.createElement(Kt.a,{positions:t},t.map((function(e,l){return r.a.createElement(Qt,{key:l,position:e,DeleteMarker:a,index:l,newTubeCordinates:t,setnewTubeCordinates:n})})))},en=(n(799),function(e){var t,n=e.pointData,a=e.regionData,l=e.pointDesc,c=e.regionDesc,i=r.a.useState([{text:"\u0422\u043e\u0447\u043a\u0438",grades:n,Description:l},{text:"\u041e\u0431\u043b\u0430\u0441\u0442\u0456",grades:a,Description:c}]),s=Object(o.a)(i,2),u=s[0],m=(s[1],r.a.useState(0)),d=Object(o.a)(m,2),E=d[0],b=d[1];return r.a.createElement("div",{className:"info legend"},r.a.createElement(f.a,{style:{marginBottom:4},onClick:function(){b(0===E?1:0)}},u[E].text),(null===(t=u[E])||void 0===t?void 0:t.Description)&&r.a.createElement("div",{className:"borderedDescription"},u[E].Description),r.a.createElement("div",null,r.a.createElement("i",{style:{background:"grey"}})," \u0414\u0430\u043d\u0456 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456"),u[E].grades.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("i",{key:t,style:{background:"".concat(e.color)}}),r.a.createElement("span",null,(e.min===-1/0?"0":e.min)+(e.max===1/0?"+":"-"+e.max)))})))}),tn=(n(800),[{startDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),endDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),key:"selection"}]),nn={points:[],polygons:[{name:"",expertName:"",polygonPoints:[]}],regionPolygons:[{name:"",expertName:"",polygonPoints:[]}],tubes:[{name:"",expertName:"",tubePoints:[]}],filteredPolygons:[],filteredRegions:[],filteredItems:{isMyObjectsSelectionChecked:!1,items:[]},uniqueObjectTypes:[],filteredPoints:[],isAddPointModeEnabled:!1,isAddPolygonModeEnabled:!1,isAddTubeMode:!1,showPointModal:!1,showPolygonModal:!1,showTubeModal:!1,newPointCoordinates:[],newPolygonCoordinates:[],newTubeCordinates:[],shouldFetchData:!0,isEditPointMode:!1,pointId:null,isEditPolygonMode:!1,isEditTubeMode:!1,polygonId:null,tubeId:null,mapMode:null,compareMode:!1,comparePointsId:[],comparePolygonsId:[],comaprePointId:{id:null,isCompare:!1},comparePolygonId:{id:null,isCompare:!1},compareModalForm:!1,sideLeftFilterOpened:!1,sideRightFilterOpened:!1},an=function(e,t){return t?"\u0412\u0438\u043a\u043b\u044e\u0447\u0438\u0442\u0438 \u0440\u0435\u0436\u0438\u043c \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f":"\u0414\u043e\u0434\u0430\u0442\u0438 ".concat(e," \u043d\u0430 \u043a\u0430\u0440\u0442\u0443")},rn=function(e){var t=e.user,n=Object(a.useState)(!1),l=Object(o.a)(n,2),c=l[0],i=l[1],s=Object(a.useState)(nn.filteredItems),u=Object(o.a)(s,2),m=u[0],d=u[1],E=Object(a.useState)(nn.shouldFetchData),h=Object(o.a)(E,2),p=h[0],y=h[1],x=Object(a.useState)(nn.filteredPoints),w=Object(o.a)(x,2),k=w[0],S=w[1],N=Object(a.useState)(nn.isAddPointModeEnabled),_=Object(o.a)(N,2),I=_[0],D=_[1],M=Object(a.useState)(nn.showPointModal),P=Object(o.a)(M,2),A=P[0],T=P[1],R=Object(a.useState)(nn.newPointCoordinates),z=Object(o.a)(R,2),L=z[0],B=z[1],V=Object(a.useState)(nn.comparePointsId),W=Object(o.a)(V,2),H=W[0],U=W[1],q=Object(a.useState)(nn.comaprePointId),Y=Object(o.a)(q,2),J=Y[0],Z=Y[1],X=Object(a.useState)(tn),Q=Object(o.a)(X,2),$=Q[0],ee=Q[1],re=Object(a.useState)(!1),le=Object(o.a)(re,2),ce=le[0],oe=le[1],ie=Object(a.useState)(nn.filteredPolygons),se=Object(o.a)(ie,2),ue=se[0],me=se[1],de=Object(a.useState)(nn.isAddPolygonModeEnabled),fe=Object(o.a)(de,2),Ee=fe[0],he=fe[1],pe=Object(a.useState)(nn.showPolygonModal),ve=Object(o.a)(pe,2),ge=ve[0],Oe=ve[1],ye=Object(a.useState)(nn.newPolygonCoordinates),Ce=Object(o.a)(ye,2),we=Ce[0],ke=Ce[1],Se=Object(a.useState)(nn.comparePolygonsId),Ne=Object(o.a)(Se,2),_e=Ne[0],Ie=Ne[1],De=Object(a.useState)(nn.comparePolygonId),Me=Object(o.a)(De,2),Pe=Me[0],Ae=Me[1],Fe=Object(a.useState)(nn.filteredRegions),Te=Object(o.a)(Fe,2),Re=Te[0],ze=Te[1],Le=Object(a.useState)(tn),Be=Object(o.a)(Le,2),Ve=Be[0],He=Be[1],Ge=Object(a.useState)(nn.mapMode),Ue=Object(o.a)(Ge,2),qe=Ue[0],Ke=Ue[1],Ye=Object(a.useState)(nn.tubes),Xe=Object(o.a)(Ye,2),Qe=Xe[0],$e=Xe[1],et=Object(a.useState)(nn.isAddTubeMode),tt=Object(o.a)(et,2),nt=tt[0],at=tt[1],rt=Object(a.useState)([]),lt=Object(o.a)(rt,2),ct=lt[0],it=lt[1],st=Object(a.useState)(nn.showTubeModal),ut=Object(o.a)(st,2),mt=ut[0],dt=ut[1],ft=Object(a.useState)(nn.uniqueObjectTypes),Et=Object(o.a)(ft,2),bt=Et[0],ht=Et[1],pt=Object(a.useState)(nn.isEditPointMode),vt=Object(o.a)(pt,2),gt=vt[0],Ot=vt[1],jt=Object(a.useState)(nn.pointId),yt=Object(o.a)(jt,2),Ct=yt[0],xt=yt[1],wt=Object(a.useState)(nn.isEditPolygonMode),kt=Object(o.a)(wt,2),Nt=kt[0],_t=kt[1],It=Object(a.useState)(nn.polygonId),Mt=Object(o.a)(It,2),At=Mt[0],Ft=Mt[1],Tt=Object(a.useState)(nn.isEditTubeMode),zt=Object(o.a)(Tt,2),Lt=zt[0],Bt=zt[1],Vt=Object(a.useState)(nn.tubeId),Wt=Object(o.a)(Vt,2),Ht=Wt[0],Gt=Wt[1],Ut=Object(a.useContext)(K),Kt=Ut.environmentsInfo,Yt=Ut.setEnvironmentsInfo,Jt=Object(a.useState)(nn.sideLeftFilterOpened),Zt=Object(o.a)(Jt,2),Qt=Zt[0],an=Zt[1],rn=Object(a.useState)(nn.sideLeftFilterOpened),ln=Object(o.a)(rn,2),cn=ln[0],on=ln[1],dn=function(){F("".concat("/points","?idEnvironment=").concat(Kt.selected.id)).then((function(e){var t=e.data;S(t),ht([]),ht(je(t.map((function(e){return{Object_Type_Id:e.Object_Type_Id,Object_Type_Name:e.Object_Type_Name}})))),nn.points=t}))},fn=function(){var e=Kt.selected.id;F("".concat("/polygons","?idEnvironment=").concat(e)).then((function(e){var t,n=e.data,a=[];n.forEach((function(e,t){"tube"===e.type&&a.push(e)})),t=n.filter((function(e){return"region"!==e.type&&"tube"!==e.type})),me(t),$e(a)}))},En=function(e){var t=e.id_of_expert;return m.items.some((function(e){var n=e.id_of_expert;return t===n}))},bn=function(e){var t=e.id_of_user;return m.items.some((function(e){var n=e.id_of_user;return t===n}))};Object(a.useEffect)((function(){Kt.environments.length&&!Kt.selected&&Yt({selected:Kt.environments[0],environments:Kt.environments})}),[Kt.environments]),Object(a.useEffect)((function(){p&&Kt.selected&&ce?(fn(),dn(),y(!1)):p&&Kt.selected&&!ce&&(fn(),y(!1))}),[p,Kt.selected]),Object(a.useEffect)((function(){!ce&&Kt.selected?F("".concat("/points","?idEnvironment=").concat(Kt.selected.id,"&startDate=").concat($[0].startDate.toISOString(),"&endDate=").concat($[0].endDate.toISOString())).then((function(e){var t=e.data;S(t),ht([]),ht(je(t.map((function(e){return{Object_Type_Id:e.Object_Type_Id,Object_Type_Name:e.Object_Type_Name}})))),nn.points=t})):ce&&Kt.selected&&dn()}),[$,ce,Kt.selected]),Object(a.useEffect)((function(){if(m.items.length){var e=[],t=[];if(e=nn.polygons.filter(En),t=nn.points.filter(En),m.isMyObjectsSelectionChecked){var n=nn.polygons.filter(bn),a=nn.points.filter(bn);e=[].concat(Object(te.a)(e),Object(te.a)(n)),t=[].concat(Object(te.a)(t),Object(te.a)(a))}t=be(t,"Id"),e=be(e,"polygonId"),S(t),me(e)}else S(nn.points),me(nn.polygons)}),[m]),Object(a.useEffect)((function(){Qt&&on(!1)}),[Qt]),Object(a.useEffect)((function(){cn&&an(!1)}),[cn]),Object(a.useEffect)((function(){if(J.id){var e=Object(te.a)(H);H.find((function(e){return e==J.id}))||J.isCompare?e.splice(e.indexOf(J.id),1):e.push(J.id),U(e)}}),[J]),Object(a.useEffect)((function(){if(Pe.id){var e=Object(te.a)(_e);_e.find((function(e){return e==Pe.id}))||Pe.isCompare?e.splice(e.indexOf(Pe.id),1):e.push(Pe.id),Ie(e)}}),[Pe]);Object(a.useEffect)((function(){ge||ke([])}),[Ee,ge]),Object(a.useEffect)((function(){mt||it([])}),[nt,mt]);var hn,pn=Object(a.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{center:b,zoom:6,maxZoom:15,attributionControl:!0,zoomControl:!0,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35,ref:pn,preferCanvas:!0,onClick:function(e){var t=e.latlng,n=t.lat,a=t.lng;if(I)return B([n,a]),void T(!0);Ee&&ke([].concat(Object(te.a)(we),[{lat:n,lng:a}])),nt&&it([].concat(Object(te.a)(ct),[{lat:n,lng:a}]))}},r.a.createElement(ae.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),r.a.createElement(mn,{show:i}),r.a.createElement(G,{size:"xl",show:c,onHide:function(){i(!1)},header:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0456 \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u043f\u043e\u043b\u0456\u0433\u043e\u043d\u0456\u0432"},r.a.createElement(xe,{dateState:Ve,SetDateState:He,initilDate:tn,enabled:!0}),r.a.createElement("hr",null),r.a.createElement("h4",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0456 \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0442\u043e\u0447\u043e\u043a"),r.a.createElement("hr",null),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(f.a,{style:{marginLeft:"auto",marginRight:"auto",marginBottom:5},onClick:function(){oe(!ce)}},ce?"\u0420\u0435\u0436\u0438\u043c \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0434\u0430\u043d\u0438\u0445":"\u0420\u0435\u0436\u0438\u043c \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u043d\u043d\u044f \u043f\u0435\u0440\u0456\u043e\u0434\u0443 \u0437\u0430\u0431\u0440\u0443\u0434\u0435\u043d\u043d\u044f")),!ce&&r.a.createElement(xe,{enabled:!ce,dateState:$,SetDateState:ee,initilDate:tn})),null==qe&&r.a.createElement(Ze,{polygons:ue,mapMode:qe,setPolygonId:Ft,setIsEditPolygonMode:_t,setShowPolygonModal:Oe,setcomparePolygonId:Ae}),"region"===qe&&r.a.createElement(ot,{regions:Re,setFilteredRegions:ze,ActualRegionDate:Ve,SetActualRegionDate:He}),"tubes"===qe&&r.a.createElement(Xt,{tubeArr:Qe,settubeId:Gt,setisEditTubeMode:Bt,setshowTubeModal:dt}),r.a.createElement(We,{points:k,setPointId:xt,setIsEditPointMode:Ot,setShowPointModal:T,setComaprePointId:Z,uniqueObjectTypes:bt}),C(Kt.selected?Kt.selected.id:null)&&r.a.createElement(en,{regionData:(hn=Kt.selected?Kt.selected.id:null,{1:O,2:j,3:j,4:g,5:g,6:j,8:g}[hn]),regionDesc:v("region",Kt.selected?Kt.selected.id:null),pointData:C(Kt.selected?Kt.selected.id:null),pointDesc:v("points",Kt.selected?Kt.selected.id:null)}),we.length>0&&r.a.createElement(Je,{newPolygonCoordinates:we,setNewPolygonCoordinates:ke}),ct.length>0&&r.a.createElement($t,{newTubeCordinates:ct,setnewTubeCordinates:it})),r.a.createElement(sn,null,r.a.createElement(un,{user:t,setShowPolygonModal:Oe,setAddPointMode:D,setNewPolygonCoordinates:ke,setAddPolygonMode:he,setisAddTubeMode:at,setshowTubeModal:dt,setnewTubeCordinates:it,newPolygonCoordinates:we,newTubeCordinates:ct,isAddPointModeEnabled:I,isAddTubeMode:nt,isAddPolygonModeEnabled:Ee,comparePointsId:H,comparePolygonsId:_e})),r.a.createElement(Rt,{user:t,setFilteredItems:d,filteredPoints:k,setFilteredPoints:S,environmentsInfo:Kt,sideLeftFilterOpened:Qt,setLeftFilterOpened:an}),r.a.createElement(qt,{ViewReposition:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:11;pn.current.leafletElement.setView({lat:e,lon:t},n)},setmapMode:Ke,sideRightFilterOpened:cn,setRightFilterOpened:on}),r.a.createElement(St,{show:A,onHide:function(){return T(!1)},setShouldFetchData:y,coordinates:L,isEditPointMode:gt,setIsEditPointMode:Ot,pointId:Ct,setPointId:xt,user:t}),r.a.createElement(Dt,{show:ge,onHide:function(){return Oe(!1)},setShouldFetchData:y,setNewPolygonCoordinates:ke,coordinates:we,user:t,isEditPolygonMode:Nt,setIsEditPolygonMode:_t,polygonId:At,setPolygonId:Ft}),r.a.createElement(Pt,{show:mt,onHide:dt,coordinates:ct,setnewTubeCordinates:it,user:t,tubeId:Ht,isEditTubeMode:Lt,setisEditTubeMode:Bt,settubeId:Gt,setShouldFetchData:y}))},ln=Object(a.createRef)(),cn=function(e){var t=e.children,n=e.elmargin,a=e.show;e.setShow;return r.a.createElement("div",{ref:ln,style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",zIndex:1002,left:0,width:"100%",bottom:n.height,backgroundColor:"#b0e8ef",visibility:a?"visible":"hidden"}},t)},on=Object(a.createRef)(),sn=function(e){var t=Object(a.useState)(window.innerWidth<=991),n=Object(o.a)(t,2),l=n[0],c=n[1];window.addEventListener("resize",(function(){c(window.innerWidth<=991)}));var i=Object(a.useState)(on.current?on.current.getBoundingClientRect():0),s=Object(o.a)(i,2),u=s[0],d=s[1],f=Object(a.useState)(!1),E=Object(o.a)(f,2),b=E[0],h=E[1];return r.a.createElement("div",{ref:on},!l&&r.a.createElement(m.a,{expand:"lg",className:"map-options d-flex"},e.children),l&&r.a.createElement(m.a,{expand:"lg",className:"map-options d-flex justify-content-center"},r.a.createElement(Ie.a,{icon:b?De.b:De.a,style:{width:40,height:30,color:"grey"},onClick:function(){d(on.current?on.current.getBoundingClientRect():0),h((function(e){return!e}))}}),r.a.createElement(cn,{elmargin:u,show:b,setShow:h},e.children)))},un=function(e){var t=e.user,n=e.comparePolygonsId,l=e.comparePointsId,c=e.isAddPointModeEnabled,i=e.isAddPolygonModeEnabled,s=e.isAddTubeMode,u=e.setShowPolygonModal,m=e.setAddPointMode,d=e.setNewPolygonCoordinates,E=e.setAddPolygonMode,b=e.setisAddTubeMode,h=e.setshowTubeModal,p=e.setnewTubeCordinates,v=e.newTubeCordinates,g=e.newPolygonCoordinates,O=function(){return window.innerWidth<=991},j=Object(a.useState)(nn.compareMode),y=Object(o.a)(j,2),C=y[0],x=y[1],w=Object(a.useState)(nn.compareModalForm),k=Object(o.a)(w,2),S=k[0],N=k[1];return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(f.a,{size:"sm",variant:c?"outline-danger":"outline-primary",style:{marginBottom:"2px",marginTop:"2px",width:O()?"70%":"",cursor:i||C||s?"not-allowed":"pointer",pointerEvents:i||C||s?"all":"auto"},disabled:i||C||s,onClick:function(){return m(!c)},className:"ml-3"},an("\u043c\u0430\u0440\u043a\u0435\u0440",c)),t&&r.a.createElement(f.a,{className:"ml-3",size:"sm",variant:i?"outline-danger":"outline-primary",style:{width:O()?"70%":"",marginBottom:"2px",marginTop:"2px",cursor:c||C||s?"not-allowed":"pointer",pointerEvents:c||C||s?"all":"auto"},disabled:c||C||s,onClick:function(){return E(!i)}},an("\u043f\u043e\u043b\u0456\u0433\u043e\u043d",i)),i&&r.a.createElement(f.a,{style:{width:O()?"70%":"",marginBottom:"2px",marginTop:"2px"},className:"ml-3",size:"sm",variant:"outline-success",onClick:function(){E(!1),g.length>=3?u(!0):d([])}},"\u0417\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438 \u043f\u043e\u043b\u0456\u0433\u043e\u043d"),t&&r.a.createElement(f.a,{className:"ml-3",size:"sm",variant:s?"outline-danger":"outline-primary",style:{width:O()?"70%":"",marginBottom:"2px",marginTop:"2px",cursor:c||C||i?"not-allowed":"pointer",pointerEvents:c||C||i?"all":"auto"},disabled:c||C||i,onClick:function(){return b(!s)}},an("\u0442\u0440\u0443\u0431\u0443",s)),s&&r.a.createElement(f.a,{style:{width:O()?"70%":"",marginBottom:"2px",marginTop:"2px"},className:"ml-3",size:"sm",variant:"outline-success",onClick:function(){b(!1),v.length>=2?h(!0):p([])}},"\u0417\u0430\u043a\u0456\u043d\u0447\u0438\u0442\u0438 \u0442\u0440\u0443\u0431\u0443"),C&&r.a.createElement(f.a,{style:{width:O()?"70%":"",marginBottom:"2px",marginTop:"2px"},className:"ml-3",size:"sm",variant:"outline-success",onClick:function(){x(!1)}},"\u041f\u043e\u0440\u0456\u0432\u043d\u044f\u0442\u0438 \u0442\u043e\u0447\u043a\u0438"),r.a.createElement(f.a,{className:"ml-3",size:"sm",variant:"outline-primary",style:{width:O()?"70%":"",marginBottom:"2px",marginTop:"2px",cursor:i||c||C||s?"not-allowed":"pointer",pointerEvents:i||c||C||s?"all":"auto"},disabled:i||c||C||s,onClick:function(){return N(!0)}},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043d\u044f"),r.a.createElement(ye,{style:{width:O()?"70%":"",marginBottom:"2px",marginTop:"2px"},points:l,polygons:n,show:S,onHide:function(){return N(!1)}}))},mn=function(e){var t=e.show;return r.a.createElement("div",{className:"upsideButton",onClick:function(){t(!0)}})},dn=(n(801),[{startDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),endDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),key:"selection"}]),fn=function(e){e.user;var t=Object(a.useState)(!0),n=Object(o.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)([]),E=Object(o.a)(d,2),h=E[0],p=E[1],v=Object(a.useState)([]),g=Object(o.a)(v,2),O=g[0],j=g[1],y=Object(a.useState)(!1),C=Object(o.a)(y,2),x=(C[0],C[1]),w=Object(a.useState)(null),k=Object(o.a)(w,2),S=(k[0],k[1]),N=Object(a.useState)(!1),_=Object(o.a)(N,2),I=(_[0],_[1]),D=Object(a.useState)(!1),M=Object(o.a)(D,2),P=(M[0],M[1]),A=Object(a.useState)(null),T=Object(o.a)(A,2),R=(T[0],T[1]),z=Object(a.useState)(!1),L=Object(o.a)(z,2),B=(L[0],L[1]),V=Object(a.useState)([]),W=Object(o.a)(V,2),H=W[0],G=W[1],U=Object(a.useState)({id:null,isCompare:!1}),q=Object(o.a)(U,2),K=q[0],Y=q[1],J=Object(a.useState)([]),Z=Object(o.a)(J,2),X=Z[0],Q=Z[1],$=Object(a.useState)({id:null,isCompare:!1}),ee=Object(o.a)($,2),re=ee[0],le=ee[1],ce=Object(a.useState)([]),oe=Object(o.a)(ce,2),ie=oe[0],se=oe[1],ue=Object(a.useState)(null),me=Object(o.a)(ue,2),de=me[0],fe=me[1],Ee=Object(a.useState)([]),be=Object(o.a)(Ee,2),he=be[0],pe=be[1],ve=Object(a.useState)([]),Oe=Object(o.a)(ve,2),ye=Oe[0],Ce=Oe[1],xe=Object(a.useState)(dn),we=Object(o.a)(xe,2),ke=we[0],Se=we[1];return Object(a.useEffect)((function(){if(K.id){var e=Object(te.a)(H);H.find((function(e){return e==K.id}))||K.isCompare?e.splice(e.indexOf(K.id),1):e.push(K.id),G(e)}}),[K]),Object(a.useEffect)((function(){if(re.id){var e=Object(te.a)(X);X.find((function(e){return e==re.id}))||re.isCompare?e.splice(e.indexOf(re.id),1):e.push(re.id),Q(e)}}),[re]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{center:b,zoom:6,maxZoom:15,attributionControl:!0,zoomControl:!0,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35},0===h.length&&0===Ze.length&&r.a.createElement("div",{className:"BlackMapWarning"},r.a.createElement(f.a,{onClick:function(){c(!0)}},"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0430\u0446\u0456\u0457 \u0432 \u043c\u0435\u043d\u044e \u0432\u0438\u0449\u0435 ")),r.a.createElement(ae.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),((null===de||void 0===de?void 0:de.find((function(e){return"points"==e})))||0==(null===de||void 0===de?void 0:de.length))&&r.a.createElement(We,{points:h,setPointId:S,setIsEditPointMode:x,setShowPointModal:I,setComaprePointId:Y,uniqueObjectTypes:he,isPointsNonEditable:!0,isAdvanced:!0}),((null===de||void 0===de?void 0:de.find((function(e){return"polygon"==e})))||0==(null===de||void 0===de?void 0:de.length))&&r.a.createElement(Ze,{polygons:O,setPolygonId:R,setIsEditPolygonMode:P,setShowPolygonModal:B,setcomparePolygonId:le,isPolyggonsNonEditable:!0,isSpecial:!0}),((null===de||void 0===de?void 0:de.find((function(e){return"region"==e})))||0==(null===de||void 0===de?void 0:de.length))&&r.a.createElement(ot,{regions:ye,setFilteredRegions:Ce,ActualRegionDate:ke}),r.a.createElement(hn,{show:c})),r.a.createElement(sn,null,r.a.createElement(bn,{comparePointsId:H,comparePolygonsId:X,chosenEnvironments:ie})),r.a.createElement(En,{show:l,ActualRegionDate:ke,SetActualRegionDate:Se,onHide:function(){c(!1)},submitForm:function(e){if(e.preventDefault(),function(){var e=document.forms.advancedForm;return 0!=Array.from(e.elements.environmentCheckbox).filter((function(e){return e.checked})).length||e.elements.environmentAllCheckbox.checked}()){var t,n=document.forms.advancedForm,a=Array.from(n.elements.environmentCheckbox).filter((function(e){return e.checked})),r=Array.from(n.elements.expertCheckbox).filter((function(e){return e.checked})),l=null===(t=Array.from(n.elements.objectCheckbox).filter((function(e){return e.checked})))||void 0===t?void 0:t.map((function(e){return e.value})),o=n.elements.issueCheckbox?Array.from(n.elements.issueCheckbox.length>0?n.elements.issueCheckbox:[n.elements.issueCheckbox]).filter((function(e){return e.checked})):[],i=0===a.length&&0===r.length&&0===o.length?"":"?";if(i.length>0){var s=ge(r,"experts"),u=ge(a,"env"),d=ge(o,"issue");i+=s,i+=s&&u?"&"+u:u,i+=(s||u)&&d?"&"+d:d}var f=[];l.find((function(e){return"points"==e}))||0==(null===l||void 0===l?void 0:l.length)?f.push(F("/advancedpoints"+i)):f.push(new Promise((function(e,t){e()}))),l.find((function(e){return"polygon"==e}))||0==(null===l||void 0===l?void 0:l.length)?f.push(F("/advancedpolygons"+i)):f.push(new Promise((function(e,t){e()}))),Promise.all([].concat(f).concat()).then((function(e){var t,n;(null===(t=e[0])||void 0===t?void 0:t.data)?(p(e[0].data),pe(je(e[0].data.map((function(e){return{Object_Type_Id:e.Object_Type_Id,Object_Type_Name:e.Object_Type_Name}}))))):(p([]),pe([])),(null===(n=e[1])||void 0===n?void 0:n.data)?j(e[1].data):j([]),c(!1)})),se(a.map((function(e){return e.value}))),fe(l)}else m(!0)}}),r.a.createElement(pn,{label:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0445\u043e\u0447 \u043e\u0434\u043d\u0435 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435",show:u,hide:function(){m(!1)}}))},En=function(e){var t=e.show,n=e.onHide,l=e.submitForm,c=e.ActualRegionDate,i=e.SetActualRegionDate,s=Object(a.useContext)(K),u=s.environmentsInfo,m=(s.setEnvironmentsInfo,Object(a.useState)(!1)),d=Object(o.a)(m,2),E=d[0],b=d[1],h=Object(a.useState)([]),p=Object(o.a)(h,2),v=p[0],g=p[1],O=Object(a.useState)([{type:"points",label:"\u0422\u043e\u0447\u043a\u0438",checked:!1},{type:"polygon",label:"\u041f\u043e\u043b\u0456\u0433\u043e\u043d\u0438",checked:!1},{type:"region",label:"\u041e\u0431\u043b\u0430\u0441\u0442\u0456",checked:!1}]),j=Object(o.a)(O,2),y=j[0],C=(j[1],Object(a.useState)([])),x=Object(o.a)(C,2),w=x[0],k=x[1],N=Object(a.useState)(!1),_=Object(o.a)(N,2),I=_[0],D=_[1];Object(a.useEffect)((function(){0===v.length&&F("/experts").then((function(e){var t=e.data;g(t)}))}),[]);var M=function(){var e=document.forms.advancedForm,t=Array.from(e.elements.environmentCheckbox).filter((function(e){return e.checked})),n=Array.from(e.elements.expertCheckbox).filter((function(e){return e.checked})),a=0===t.length&&0===n.length?"":"?";a.length>0&&(a+=ge(n,"experts"),a+=0===n.length?ge(t,"env"):"&"+ge(t,"env")),D(!0),F("/issuegetter"+"".concat(a)).then((function(e){var t=e.data;k(t),D(!1)}))},P=function(e,t){var n=document.forms.advancedForm,a=n.elements["".concat(e)],r=Array.from(n.elements["".concat(t)]);return a.checked&&r.filter((function(e){return e.checked})).length>0&&(r.forEach((function(e){e.checked=!1})),b(!0)),!(!a.checked&&0===r.filter((function(e){return e.checked})).length)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{size:"xl",show:t,onHide:n,header:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0430, \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435 \u0442\u0430 \u0437\u0430\u0434\u0430\u0447\u0443"},0===v.length?r.a.createElement(J.a,{className:"loading-spiner",animation:"border",variant:"primary"}):r.a.createElement(S.a,{className:"advancedForm",name:"advancedForm",onSubmit:l},r.a.createElement("h5",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435:"),r.a.createElement("div",{className:"checkbox-list"},r.a.createElement("div",{className:"checkWrap"},r.a.createElement(S.a.Check,{onChange:function(){P("environmentAllCheckbox","environmentCheckbox")&&M()},value:-1,className:"checkField",name:"environmentAllCheckbox",type:"checkbox",label:"\u0423\u0441\u0456 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0430"})),u.environments.map((function(e){return r.a.createElement("div",{key:e.id,className:"checkWrap"},r.a.createElement(S.a.Check,{onChange:function(){P("environmentAllCheckbox","environmentCheckbox")&&M()},value:e.id,className:"checkField",name:"environmentCheckbox",type:"checkbox",label:e.name}))}))),r.a.createElement("hr",{style:{width:"100%"}}),r.a.createElement("h5",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0442\u0438\u043f\u0438 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432:"),r.a.createElement("div",{className:"checkbox-list"},r.a.createElement("div",{className:"checkWrap"},r.a.createElement(S.a.Check,{onChange:function(){P("objectAllCheckbox","objectCheckbox")},value:-1,className:"checkField",name:"objectAllCheckbox",type:"checkbox",label:"\u0423\u0441\u0456 \u043e\u0431'\u0454\u043a\u0442\u0438"})),y.map((function(e){return r.a.createElement("div",{key:e.type,className:"checkWrap"},r.a.createElement(S.a.Check,{onChange:function(){P("objectAllCheckbox","objectCheckbox")},value:e.type,className:"checkField",name:"objectCheckbox",type:"checkbox",label:e.label}))}))),r.a.createElement("hr",{style:{width:"100%"}}),r.a.createElement("h5",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0430:"),r.a.createElement("div",{className:"checkbox-list"},r.a.createElement("div",{className:"checkWrap"},r.a.createElement(S.a.Check,{onChange:function(){P("expertAllCheckbox","expertCheckbox")&&M()},value:-1,className:"checkField",name:"expertAllCheckbox",type:"checkbox",label:"\u0423\u0441\u0456 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0438"})),v.map((function(e){return r.a.createElement("div",{key:e.id_of_expert,className:"checkWrap"},r.a.createElement(S.a.Check,{onChange:function(){P("expertAllCheckbox","expertCheckbox")&&M()},value:e.id_of_expert,className:"checkField",name:"expertCheckbox",type:"checkbox",label:e.expert_name}))}))),r.a.createElement("hr",{style:{width:"100%"}}),I?r.a.createElement("div",{className:"SpinerWraper"},r.a.createElement(J.a,{animation:"grow",variant:"primary"})):w.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443:"),r.a.createElement("div",{className:"checkbox-list"},r.a.createElement("div",{className:"checkWrap"},r.a.createElement(S.a.Check,{onChange:function(){P("issueAllCheckbox","issueCheckbox")},value:-1,className:"checkField",name:"issueAllCheckbox",type:"checkbox",label:"\u0423\u0441\u0456 \u0437\u0434\u0430\u0447\u0456"})),w.map((function(e){return r.a.createElement("div",{key:e.issue_id,className:"checkWrap"},r.a.createElement(S.a.Check,{onChange:function(){P("issueAllCheckbox","issueCheckbox")},value:e.issue_id,className:"checkField",name:"issueCheckbox",type:"checkbox",label:e.name}))}))),r.a.createElement("hr",{style:{width:"100%"}})),r.a.createElement("h5",null,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0456 \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u0435\u0439:"),r.a.createElement(xe,{dateState:c,SetDateState:i,initilDate:dn,enabled:!0}),r.a.createElement(f.a,{type:"submit"}," \u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0442\u043e\u0447\u043a\u0438 "))),r.a.createElement(pn,{label:'\u041f\u0443\u043d\u043a\u0442 "\u0423\u0441\u0456" \u043c\u043e\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u0441\u044c \u043b\u0438\u0448\u0435 \u043e\u043a\u0440\u0435\u043c\u043e ',show:E,hide:function(){b(!1)}}))},bn=function(e){var t=e.comparePointsId,n=e.comparePolygonsId,l=e.chosenEnvironments,c=function(){return window.innerWidth<=991},i=Object(a.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:"ml-3",size:"sm",variant:"outline-primary",style:{width:c()?"70%":"",marginBottom:"2px",marginTop:"2px",cursor:"pointer",pointerEvents:"all"},onClick:function(){return m(!0)}},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0438 \u043f\u043e\u0440\u0456\u0432\u043d\u044f\u043d\u043d\u044f"),r.a.createElement(ye,{style:{width:c()?"70%":"",marginBottom:"2px",marginTop:"2px"},points:t,polygons:n,chosenEnvironments:l,show:u,onHide:function(){return m(!1)}}))},hn=function(e){var t=e.show;return r.a.createElement("div",{className:"upsideButton",onClick:function(){t(!0)}})},pn=function(e){var t=e.label,n=e.show,l=e.hide,c=Object(a.useState)(!0),i=Object(o.a)(c,2),s=i[0],u=i[1];return Object(a.useEffect)((function(){n&&s&&(u(!1),setTimeout((function(){l(),u(!0)}),2e3))}),[n]),r.a.createElement("div",{className:"WarningAlert ".concat(n?"showWarning":"")},r.a.createElement("b",null,t))},vn=n(838),gn=n(401),On=n.n(gn),jn=n(402),yn=n.n(jn),Cn=n(139),xn=n.n(Cn),wn=function(){return r.a.createElement(vn.a,{className:"carousel"},r.a.createElement(vn.a.Item,null,r.a.createElement("img",{className:"w-100",src:On.a,alt:"First slide"}),r.a.createElement(vn.a.Caption,null,r.a.createElement("h3",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u0432\u043e\u0434\u043d\u0438\u043c\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c\u0438"))),r.a.createElement(vn.a.Item,null,r.a.createElement("img",{className:"w-100",src:yn.a,alt:"Second slide"}),r.a.createElement(vn.a.Caption,null,r.a.createElement("h3",null,"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0438\u0439 \u0435\u043a\u043e\u043b\u043e\u0433\u043e-\u0435\u043a\u043e\u043d\u043e\u043c\u0456\u0447\u043d\u0438\u0439 \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433"))),r.a.createElement(vn.a.Item,null,r.a.createElement("img",{className:"w-100",src:xn.a,alt:"Third slide"}),r.a.createElement(vn.a.Caption,null,r.a.createElement("h3",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u0432\u0456\u0434\u0445\u043e\u0434\u0430\u043c\u0438"))),r.a.createElement(vn.a.Item,null,r.a.createElement("img",{className:"w-100",src:xn.a,alt:"Fourth slide"}),r.a.createElement(vn.a.Caption,null,r.a.createElement("h3",null,"\u041e\u0445\u043e\u0440\u043e\u043d\u0430 \u0437\u0435\u043c\u0435\u043b\u044c"))),r.a.createElement(vn.a.Item,null,r.a.createElement("img",{className:"w-100",src:xn.a,alt:"Fifth slide"}),r.a.createElement(vn.a.Caption,null,r.a.createElement("h3",null,"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u0435 \u043f\u043e\u0432\u0456\u0442\u0440\u044f"))),r.a.createElement(vn.a.Item,null,r.a.createElement("img",{className:"w-100",src:xn.a,alt:"Sixth slide"}),r.a.createElement(vn.a.Caption,null,r.a.createElement("h3",null,"\u0417\u0434\u043e\u0440\u043e\u0432'\u044f \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044f"))))},kn=n(842),Sn=function(){return r.a.createElement(kn.a,null,r.a.createElement("h4",null,"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0438\u0439 \u0435\u043a\u043e\u043b\u043e\u0433\u043e-\u0435\u043a\u043e\u043d\u043e\u043c\u0456\u043a\u043e-\u0435\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u0447\u043d\u0438\u0439 \u043c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433 (\u041a\u0415\u0415\u0415\u041c) \u0431\u0430\u0437\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0442\u0430\u043a\u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0445 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u0445:"),r.a.createElement(kn.a.Item,null,"\u0417\u0431\u0456\u0440 \u0440\u0456\u0437\u043d\u043e\u0440\u0456\u0434\u043d\u043e\u0457 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u0437 \u0440\u0456\u0437\u043d\u0438\u0445 \u0442\u043e\u0447\u043e\u043a \u0440\u0435\u0433\u0456\u043e\u043d\u0443."),r.a.createElement(kn.a.Item,null,"\u041e\u0431\u0440\u043e\u0431\u043b\u0435\u043d\u043d\u044f \u0432\u0435\u043b\u0438\u043a\u0438\u0445 \u043c\u0430\u0441\u0438\u0432\u0456\u0432 \u0434\u0430\u043d\u0438\u0445 \u0440\u0456\u0437\u043d\u0438\u043c\u0438 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0430\u043c\u0438."),r.a.createElement(kn.a.Item,null,"\u041e\u0434\u043d\u043e\u0447\u0430\u0441\u043d\u0430 \u0440\u043e\u0431\u043e\u0442\u0430 \u0440\u0456\u0437\u043d\u0438\u0445 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0456\u0432 \u0437 \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u044e \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0454\u044e \u0442\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0454\u044e \u0432\u0456\u0434 \u0456\u043d\u0448\u0438\u0445 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0456\u0432."),r.a.createElement(kn.a.Item,null,"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043d\u0430 \u043a\u0430\u0440\u0442\u0456 \u043c\u0456\u0441\u0446\u0435\u0432\u043e\u0441\u0442\u0456 \u0434\u043b\u044f \u043d\u0430\u043e\u0447\u043d\u043e\u0441\u0442\u0456."),r.a.createElement(kn.a.Item,null,"\u0414\u043e\u0441\u043b\u0456\u0434\u0436\u0435\u043d\u043d\u044f \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0440\u0456\u0437\u043d\u0438\u0445 \u0432\u0438\u0434\u0456\u0432 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0430\u043d\u0430\u043b\u0456\u0437\u0443."),r.a.createElement(kn.a.Item,null,"\u041e\u0446\u0456\u043d\u043a\u0430 \u0441\u0438\u0442\u0443\u0430\u0446\u0456\u0457 \u0443 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e\u043c\u0443 \u0440\u0435\u0433\u0456\u043e\u043d\u0456 \u0437 \u0442\u043e\u0447\u043a\u0438 \u0437\u043e\u0440\u0443 \u0437\u0430\u043a\u043e\u043d\u0443 \u0442\u0430 \u0432\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0437\u0430\u043a\u043e\u043d\u043d\u043e\u0441\u0442\u0456 \u043d\u0430\u0431\u043e\u0440\u0443 \u0437\u0430\u0445\u043e\u0434\u0456\u0432 \u043f\u043e \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044e \u0435\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u043e\u0433\u043e \u0441\u0442\u0430\u043d\u0443 \u0440\u0435\u0433\u0456\u043e\u043d\u0443 \u0430\u0431\u043e \u043b\u0456\u043a\u0432\u0456\u0434\u0430\u0446\u0456\u0457 \u043d\u0430\u0441\u043b\u0456\u0434\u043a\u0456\u0432 \u043d\u0430\u0434\u0437\u0432\u0438\u0447\u0430\u0439\u043d\u0438\u0445 \u0441\u0438\u0442\u0443\u0430\u0446\u0456\u0439."))},Nn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(wn,null),r.a.createElement(x.a,null,r.a.createElement(w.a,{className:"justify-content-center mt-5 mb-5"},r.a.createElement(k.a,{xs:12},r.a.createElement(Sn,null)))))},_n=n(832),In=n(404),Dn=(n(810),n(811),new Map([[h.elements,"/elements"],[h.gdk,"/gdk"],[h.environment,"/environments"],[h.type_of_object,"/typeofobjects"],[h.tax_values,"/taxvalues"]])),Mn=function(e){return e.map((function(e){return e.field})).reduce((function(e,t){return Object(Ae.a)(Object(Ae.a)({},e),{},Object(u.a)({},t,""))}),{})},Pn=[{"/gdk":["EnvironmentName","CodeName"]}],An=function(e){var t=e.columns,n=e.url,a=e.setShouldFetchData,l=Object.values(Pn).find((function(e){return Object.keys(e)[0]==n}));if(l){var c,i=Object(re.a)(t);try{for(i.s();!(c=i.n()).done;){var s=c.value;-1!=l[n].indexOf(s.headerName)&&(t=t.splice(t.indexOf(s),1))}}catch(h){i.e(h)}finally{i.f()}}var m=r.a.useState({}),d=Object(o.a)(m,2),E=d[0],b=d[1];r.a.useEffect((function(){b(Mn(t))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{style:{margin:"0 auto",width:"80%",display:"flex",flexWrap:"wrap"}},t&&t.map((function(e){var t=e.field;return r.a.createElement(S.a.Group,{style:{padding:"0 10px",width:"50%"},key:t},r.a.createElement(S.a.Label,null,t),r.a.createElement(S.a.Control,{type:"input",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f ".concat(t),value:E[t],onChange:function(e){return function(e,t){b(Object(Ae.a)(Object(Ae.a)({},E),{},Object(u.a)({},e,t)))}(t,e.target.value)}}))}))),t.length>0&&r.a.createElement(f.a,{variant:"primary",onClick:function(){Object.values(E).every((function(e){return Boolean(e)}))?P(n,E).then((function(){b(Mn(t)),a(!0),alert("\u041d\u043e\u0432\u0456 \u0434\u0430\u043d\u0456 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e")})).catch((function(e){console.log(e.response),alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f");var t=e.response.data.message;alert(t?t.sqlMessage:t.toString())})):window.alert("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0443\u0441\u0456 \u043f\u043e\u043b\u044f")},className:"mb-3"},"\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0430\u043f\u0438\u0441"))},Fn=function(e){var t=e.setSelectedMode,n=e.user;return[{mode:p.search,displayName:"\u041f\u043e\u0448\u0443\u043a",visible:!0},{mode:p.add,displayName:"\u0414\u043e\u0434\u0430\u0442\u0438",visible:n&&0===n.id_of_expert},{mode:p.edit,displayName:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",visible:n&&0===n.id_of_expert},{mode:p.delete,displayName:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438",visible:n&&0===n.id_of_expert}].filter((function(e){return!!e.visible})).map((function(e){var n=e.mode,a=e.displayName;return r.a.createElement(S.a.Group,null,r.a.createElement(S.a.Check,{type:"radio",id:n,label:a,name:"mode",onClick:function(){return t(n)}}))}))},Tn=function(e){var t=e.selectedRow,n=e.setShouldDeselectSelectedRows,l=e.url,c=e.setShouldFetchData,i=Object(a.useState)(null),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)(null),E=Object(o.a)(d,2),b=E[0],h=E[1];Object(a.useEffect)((function(){if(t){var e=pe(t);m(e);var n=t[e];h(n)}}),[t]);var p=function(){var e=Object(I.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="\n    \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456 \u0449\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0438\u0439 \u0440\u044f\u0434\u043e\u043a?\n    \u0414\u043b\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457 \u0432\u0432\u0435\u0434\u0456\u0442\u044c: ".concat(b),+window.prompt(t)!==b){e.next=19;break}return e.prev=3,e.next=6,L("".concat(l,"/").concat(b));case 6:c(!0),n(!0),alert("\u0420\u044f\u0434\u043e\u043a \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.response),alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),a=e.t0.response.data.message,alert(a?a.sqlMessage:a.toString());case 17:e.next=20;break;case 19:alert("\u041d\u0435\u0432\u0456\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u0435 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0430\u0431\u043e \u0431\u0443\u043b\u0430 \u0432\u0456\u0434\u043c\u0456\u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0457. \u041e\u043f\u0435\u0440\u0430\u0446\u0456\u044e \u0441\u043a\u0430\u0441\u043e\u0432\u0430\u043d\u043e.");case 20:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,!t&&r.a.createElement(ht.a,{variant:"primary"},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u044f\u0434\u043e\u043a \u0434\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),t&&(b||0===b)&&u&&r.a.createElement("div",{className:"d-flex justify-content-center flex-column"},r.a.createElement(_n.a,{size:"md"},r.a.createElement(_n.a.Prepend,null,r.a.createElement(_n.a.Text,{id:"inputGroup-sizing-md"},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 ",u,":")),r.a.createElement(zt.a,{"aria-label":"Medium","aria-describedby":"inputGroup-sizing-md",id:"filter-text-box",placeholder:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u044f\u0434\u043e\u043a \u0434\u043b\u044f \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f...",disabled:!0,value:b})),r.a.createElement("div",{className:"col-1 mr-auto ml-auto mb-3 mt-3"},r.a.createElement(f.a,{variant:"danger",onClick:p},"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"))))},Rn=[{"/gdk":["EnvironmentName","CodeName"]}],zn=function(e){var t=e.columns,n=e.url,a=e.setShouldFetchData,l=e.selectedRow,c=e.setShouldDeselectSelectedRows,i=Object.values(Rn).find((function(e){return Object.keys(e)[0]==n}));if(i){var s,m=Object(re.a)(t);try{for(m.s();!(s=m.n()).done;){var d=s.value;-1!=i[n].indexOf(d.headerName)&&(t=t.splice(t.indexOf(d),1))}}catch(g){m.e(g)}finally{m.f()}}var E=r.a.useState({}),b=Object(o.a)(E,2),h=b[0],p=b[1];r.a.useEffect((function(){l&&p(function(e,t){return e.map((function(e){return e.field})).reduce((function(e,n){return Object(Ae.a)(Object(Ae.a)({},e),{},Object(u.a)({},n,t[n]))}),{})}(t,l))}),[t,l]);var v=function(){var e=Object(I.a)(_.a.mark((function e(){var t,r,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=pe(l),r=l[t],e.prev=2,e.next=5,R("".concat(n,"/").concat(r),h);case 5:a(!0),c(!0),alert("\u0420\u044f\u0434\u043e\u043a \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u043c\u0456\u043d\u0435\u043d\u043e"),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response),alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f"),o=e.t0.response.data.message,alert(o?o.sqlMessage:o.toString());case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{style:{margin:"0 auto",width:"80%",display:"flex",flexWrap:"wrap"}},t&&t.map((function(e){var t=e.field;return r.a.createElement(S.a.Group,{style:{padding:"0 10px",width:"50%"},key:t},r.a.createElement(S.a.Label,null,t),r.a.createElement(S.a.Control,{type:"input",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0434\u043b\u044f ".concat(t),value:h[t],onChange:function(e){return function(e,t){p(Object(Ae.a)(Object(Ae.a)({},h),{},Object(u.a)({},e,t)))}(t,e.target.value)}}))}))),t.length>0&&r.a.createElement(f.a,{variant:"primary",onClick:v,className:"mb-3"},"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438")),!l&&r.a.createElement(ht.a,{className:"m-auto",variant:"primary"},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u044f\u0434\u043e\u043a \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f"))},Ln=n(405),Bn=(n(812),function(e){var t=e.user,n=e.tableName,l=Dn.get(n.toLowerCase()),c=Object(a.useState)([]),i=Object(o.a)(c,2),s=i[0],u=i[1],m=Object(a.useState)([]),d=Object(o.a)(m,2),E=d[0],b=d[1],h=Object(a.useState)(!0),v=Object(o.a)(h,2),g=v[0],O=v[1],j=Object(a.useState)({}),y=Object(o.a)(j,2),C=y[0],x=y[1],w=Object(a.useState)(null),k=Object(o.a)(w,2),S=k[0],N=k[1],_=Object(a.useState)(null),I=Object(o.a)(_,2),D=I[0],M=I[1],P=Object(a.useState)(!1),A=Object(o.a)(P,2),T=A[0],R=A[1];Object(a.useEffect)((function(){g&&(F(l).then((function(e){var t=e.data,n=function(e){return e.map((function(e){return{headerName:e,field:e,sortable:!0,filter:!0}}))}(Object.keys(t[0]));u(n),b(Object.values(t))})),O(!1))}),[l,g]),Object(a.useEffect)((function(){T&&C.api&&(M(null),C.api.deselectAll(),z(""),R(!1))}),[T,C.api]),Object(a.useEffect)((function(){R(!0)}),[S]);var z=function(e){C.api.setQuickFilter(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container d-flex justify-content-space-between mt-4 mb-4 dictionary"},r.a.createElement("div",{className:"col-3 text-left dictionary__modes"},r.a.createElement("div",{className:"mb-2"},"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u043e\u043f\u0446\u0456\u044e"),r.a.createElement(Fn,{setSelectedMode:N,user:t,className:"text-align-left"}),r.a.createElement(f.a,{variant:"secondary",onClick:function(){C.api.exportDataAsCsv({fileName:"exportingData.csv"})}},"\u0415\u043a\u0441\u043f\u043e\u0440\u0442 \u0443 CSV")),r.a.createElement("div",{className:"col-9",style:{backgroundColor:"#e1ebf3",paddingTop:"10px",paddingBottom:"10px"}},S===p.search&&r.a.createElement("div",{className:"row"},r.a.createElement(_n.a,{size:"md",className:"col-9 m-auto"},r.a.createElement(_n.a.Prepend,null,r.a.createElement(_n.a.Text,{id:"inputGroup-sizing-md"},"\u041f\u043e\u0448\u0443\u043a:")),r.a.createElement(zt.a,{"aria-label":"Medium","aria-describedby":"inputGroup-sizing-md",id:"filter-text-box",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u043e\u0448\u0443\u043a\u043e\u0432\u0456 \u0434\u0430\u043d\u0456...",onInput:function(e){var t=e.target;return z(t.value)}}))),t&&0===t.id_of_expert&&S===p.add&&r.a.createElement(An,{columns:s,url:l,setShouldFetchData:O}),t&&0===t.id_of_expert&&S===p.edit&&r.a.createElement(zn,{columns:s,url:l,setShouldFetchData:O,selectedRow:D,setShouldDeselectSelectedRows:R}),t&&0===t.id_of_expert&&S===p.delete&&r.a.createElement(Tn,{selectedRow:D,url:l,setShouldFetchData:O,setShouldDeselectSelectedRows:R}))),r.a.createElement("div",{style:{height:"500px",width:"99%",margin:"0 auto"},className:"ag-theme-alpine"},r.a.createElement(ce.a,{className:"ColumnLegend",responsive:!0,size:"lg"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0410\u0431\u0440\u0435\u0432\u0456\u0430\u0442\u0443\u0440\u0430"}," \u0410\u0431\u0440\u0435\u0432\u0456\u0430\u0442\u0443\u0440\u0430 "),s.map((function(e,t){return r.a.createElement("td",{key:e+t,title:e.headerName}," ",e.headerName," ")}))),r.a.createElement("tr",null,r.a.createElement("th",{title:"\u0412\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"}," \u0412\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f "),s.map((function(e,t){var a=Ln.find((function(e){return e.table==n.toLowerCase()})),l=a?a.names.find((function(t){return t.initName==e.headerName})):void 0;return void 0===l?r.a.createElement("td",{key:e+t,title:"\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043e\u043f\u0438\u0441"}," \u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043e\u043f\u0438\u0441 "):r.a.createElement("td",{key:e+t,title:l.newName}," ",l.newName," ")}))))),r.a.createElement(In.AgGridReact,{columnDefs:s,rowData:E,rowSelection:"single",onGridReady:function(e){x(e)},onRowSelected:function(){var e=C.api.getSelectedNodes().map((function(e){return e.data}));M(e[0])}})))}),Vn=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(q),u=Object(o.a)(c,2),m=u[0],d=u[1],f=Object(a.useState)(""),E=Object(o.a)(f,2),b=E[0],h=E[1];return r.a.useEffect((function(){l(JSON.parse(sessionStorage.getItem("user")))}),[]),Object(a.useEffect)((function(){F("/environments").then((function(e){var t=e.data;d({selected:null,environments:t})}))}),[]),r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(K.Provider,{value:{environmentsInfo:m,setEnvironmentsInfo:d}},r.a.createElement($,{user:n,setUser:l,dictionary:b,setDictionary:h}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:Nn}),r.a.createElement(s.a,{path:"/earth",component:function(){return r.a.createElement(rn,{user:n})}}),r.a.createElement(s.a,{path:"/dictionary",component:function(){return r.a.createElement(Bn,{user:n,tableName:b})}}),r.a.createElement(s.a,{path:"/advancedmap",component:function(){return r.a.createElement(fn,{user:n})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(813);c.a.render(r.a.createElement(Vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[431,1,2]]]);
//# sourceMappingURL=main.7b05c895.chunk.js.map